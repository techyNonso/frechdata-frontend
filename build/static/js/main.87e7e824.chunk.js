(this.webpackJsonpfreshdata=this.webpackJsonpfreshdata||[]).push([[0],{1e3:function(e,t){},1016:function(e,t){},1033:function(e,t){},1035:function(e,t){},1053:function(e,t){},1054:function(e,t){},1122:function(e,t){},1124:function(e,t){},1130:function(e,t){},1142:function(e,t){},1145:function(e,t){},1150:function(e,t){},1238:function(e,t){},1271:function(e,t){},1342:function(e,t){},1348:function(e,t){},1361:function(e,t){},1378:function(e,t){},1444:function(e,t){},1494:function(e,t){},1656:function(e,t){},1658:function(e,t,n){"use strict";n.r(t);var s=n(2),a=n.n(s),c=n(658),r=n.n(c),i=(n(676),n(677),n(3)),o=n(27),l=n(33),d=n(21),u=n(6),b=n(1),j=n.n(b),x=n.p+"static/media/Coin98.1e4e4073.png",p=(n.p,n.p,n.p,n.p,n(54)),m=n.n(p),h=n(0),f=a.a.createContext(),O=a.a.createContext(),v=a.a.createContext();function g(){return Object(s.useContext)(f)}function y(){return Object(s.useContext)(O)}function N(){return Object(s.useContext)(v)}function w(e){var t=e.children,n=Object(d.b)(),a=n.isAuthenticated,c=n.Moralis,r=n.authenticate,o=n.logout,l=n.account,b=n.isInitialized,x=n.authError,p=(n.isWeb3Enabled,Object(s.useState)()),g=Object(i.a)(p,2),y=g[0],N=g[1],w=Object(s.useState)(!1),k=Object(i.a)(w,2),C=k[0],B=k[1],A=Object(s.useState)(!1),S=Object(i.a)(A,2),T=S[0],W=S[1],P=Object(s.useState)(""),E=Object(i.a)(P,2),I=E[0],F=E[1],G=function(){var e=Object(u.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"===typeof window.ethereum){e.next=17;break}return t=new c.Web3(window.ethereum),e.next=4,t.eth.net.getId();case 4:if(43113===e.sent){e.next=10;break}m.a.fire({title:"Warning!",text:"It looks like you are not on Avalanche fuji testnet, please select the right network to access the data",icon:"info",confirmButtonText:"Ok",confirmButtonColor:"#2C6CF4"}),T&&B(!1),e.next=15;break;case 10:return B(!0),W(!0),e.next=14,r({provider:"injected"});case 14:B(!1);case 15:e.next=18;break;case 17:m.a.fire({title:"Error!",text:"Your browser is not web3 enabled you can download metamask to enable this.",icon:"error",confirmButtonText:"Ok",confirmButtonColor:"#2C6CF4"});case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(u.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o();case 2:N(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(u.a)(j.a.mark((function e(t){var n,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"undefined"!==typeof window.ethereum&&(n=c.User.current(),a&&n?(s=n.get("accounts")[0],t&&t!==s&&F(t)):a||F(""));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c.onChainChanged(Object(u.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new c.Web3(window.ethereum),e.next=3,t.eth.net.getId();case 3:43113!==e.sent&&(m.a.fire({title:"Warning!",text:"It looks like you are not on Avalanche fuji testnet, please select the right network to access the data",icon:"info",confirmButtonText:"Ok",confirmButtonColor:"#2C6CF4"}),T&&B(!1));case 5:case"end":return e.stop()}}),e)})))),Object(s.useEffect)((function(){N(a),x&&T&&"undefined"!==typeof window.ethereum&&(B(!1),W(!1),m.a.fire({title:"Error!",text:"An error occured during authentication. Please check your internet conection and try again",icon:"error",confirmButtonText:"Ok",confirmButtonColor:"#2C6CF4"})),b&&M(l)}),[a,l,b,x]),Object(h.jsx)(f.Provider,{value:[y,I],children:Object(h.jsx)(O.Provider,{value:[G,L],children:Object(h.jsx)(v.Provider,{value:[C,B],children:t})})})}var k=function(e){var t=y(),n=Object(i.a)(t,2),a=n[0],c=n[1],r=g(),u=Object(i.a)(r,2),b=u[0],j=(u[1],Object(d.b)()),x=(j.isAuthenticated,j.isWeb3Enabled,j.enableWeb3,j.user,Object(s.useState)("hidden")),p=Object(i.a)(x,2),m=p[0],f=p[1],O=Object(s.useState)(""),v=Object(i.a)(O,2),N=v[0],w=v[1],k=Object(o.e)().pathname;return Object(s.useEffect)((function(){if("/"==k)w("/");else{var e=k.split("/");w(e[1])}})),Object(h.jsx)("div",{children:Object(h.jsxs)("div",{className:"flex w-full  pt-6 relative",children:[Object(h.jsxs)(l.b,{to:"/",className:"  flex w-[85%] lg:w-[25%]",children:[Object(h.jsx)("img",{className:"w-[30px] h-[30px] lg:w-[40px] lg:h-[40px]  rounded-full mr-1  mt-3 lg:mt-2 ",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD4AAAA8CAYAAAA+CQlPAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAobSURBVHgB1VsJbFzFGf7mvT28duw4seMLJyYhgBJKgJC24aggBVMCNGmlWgIBFWqrVkgFFVSERCOaClS1kF6UVqgqhEKKaMrZFiIKCiXBkJPEzoHjOD7Wuz7Xu+v13vve/P3fGid2dr2HvZt4P8net/PmzZtv/n+++ecfWyCPCNHAMofee2NEDV2qQy5XoV4ao0gNIEtJkIW4jgCiAiKoQO3nr8ck9JMKzJ2l4er3l9lW9iBPEMghiEgd0Lqv9yjOe2NKdH0M4TqCnPFrFCjDZljf0DX91StNN+8WQujIEXJCvIM6qlQZfNgv3HeHRKA+p6P5BQQpXaowvRJB7Lm14jYHZolZ9dERbKkPWsObQiL4w6gIiBw70HQICagvBsLRp2+wbejCDDGjnrJLl3XJ1gd8wrU5JsImnB+MCdCWpaj8fYVY60OWyJr4MPXe4CLHn9mtV2IOgAjtNlF89+Vi3YFsnsuYOFtZcci2nw+K7odIyFLMKZBkIpuvxu1PsgBSJk9kRNwg3UUtb3nEwDd5ucFchSKVf8YU+gGLX1rXV9JVYNKl7dize0Q45zRpA1KRTf6IvuuuI29Xp6ubkjiTrjqJvf/zwX0tCgQnfdoVuhb+sGnXC4tS1ZuWOJOe14mWHaNwrUYBwRWWRudXoNT2Hn9OO5WnJX4C+7aMwLH6HK3NOYPdp8U/BYmr7jy8/e/T1UtK3KU7Hw3A8yNRYKRDOmE0ekbUJdFddx7+x0PJ6iYQHybnaoc4/ou5LmTJMGHtyWDyv2r67JVrzi6fQpzntWmUBrbFRNSKAoQ9IBMLCRYh1N80fbLdNrl4CnEXeh/0isEVKEgQnP5pvJToGhRp908uUs7co9oh2H9CyCjwmXPwxwxFTzU9xWPfOrS1fOLbaeJDOHVvEKOLUaDoZWtTCpuxUFdYYD1t9ThxtnaJm4YeQsGC0OaJZlBPeXhD29vxfUacuEvv3RAQozUoUIRYzLvGZAY1RWWVjo3GVZy4T3HfN54iKky0e2PQZXptmme24tvLV3/HuFbIRxVh+NehQMHTFHuH0rs5b1dxa8PlTN62YRf1L1K8pYPXs6iZUaA4OqJhNJLeW9dULUV1yXzjkjOWynVKAL71KNglTOLTQcPaqUPr8qISrKo6s2AJqTYq/3YMrDjm1VCIOORia0dTW9tqMuH2patQpJ5xaqHQZSZXRFtzZDiMTweiuOkCK5aWna/cYXbo8WvYNxhJW+8rNctQbi2ZWijFtaagrhcb1x7ex752KoS6EhVfrbZg+fy5OwDGnH6vJ4x0Qr6svAqrKpcklI9EpFlZW38xFhQVny7sC+h4szOErW1BHHfHoNHcmv/+GGE7G2jy9jMZyqw23FifuO0IaISnWgjiI+miqK6hub8dx0f6EnSuzKzg6ioTLi43Y74lbYourzAs/RobxR1OPa8tqglNl3w5wcV5u45nj+rYMyTHiU/caPP0YV9/J8ai4SSNCTSUmnBVpQmL55mgnOMcRceohh32MMJaaksb6/Xty67kvlacdYfwehfxwI1vZKYQNzAWDeHgUDeOuZzTNr7AqmBJqYoVC8yoK+ZzzjyOgqHazf1RHHNrSLvsMul1i1dg5cK6hFtvdkls7zyze0sgPgG7fwQ7ez5HIBZGKpRZBWqLVazkQagvUVBkmu10GD889rBbHxweJxw1VCyd1PDYNzZ8CZeU1yS0t5Nn8PNtMRbDMwYSu5n4dDNGkxo+G7KjZdgOQwfSQeERryoWqLapqOXVwfCMahufdqfxCIOTEWt3j+lxwsc9GoZDqbeZk2FSFNy05DIsL09Mpx926fjdEYnJy73RG3GAPBSg1Pk1P7v/vsFutLn74rFxNuCxgI31oYSFkcchPgiGUxitRDUjQSgR4U8/z11ptG30KotXlJiLsJ4DlOrisrPuEI64Cb9tlQjriQ2KozQWHKGILZOX+HgA9vR34KRnEHMBi8sq0MiWtpksCfcOuSSeYQVPnpShMXGIvO/7SLsZWcAQwAMDXWjz9kPK7Dxg1mCPKDZZsbqqAasWLUkSpRM+YF1+oU2b3nEEdopufeyZHhF+YCYHB2Etyu7fzzskB6+xIeQbJkXFZZX1HFc0JLWyweCtbg2vnkr75yfPihEK38ruvmO2JybDIR+Ouhywj41wdPVFDJ0jZ7CYzLi8cjGHn/VsbUvSOobjvdEt8XqnTPtiErResFgtPEy+IR9iKnKEPr8XfUEPnD43D4gfET2W8bPxxYwVsYTd+cL5lVhcuhAXzTfO/6Y3TJCF8bnPJfYPZZJFokjUZl4Ub61VH93uEbEm5AnucCCuC95IkDsZja8SYV4edSmhsMrbVAvmWYpYoa1xF75g3kK2bGa5EYP0Ewcluv0Zp87+1ddYuzG+BatTil7xULQpXweECzkRYPw0IJcgDmOBP/Aa7Ypkni8UUn/Z+IwTr4Dlvwtgdnig1WPOYzyy+8BBeJXncyCWuZBwTXtfxcDbxnU8vuQ5FSwlyxalAE5Hgxzs/OmYjudP6FmRNiAUuQVr1sQF53RgfaFie7GElD7MYdh5Hj9xUMPHAzM6ye0KWLRtE19OE2erjxaT+rg6J61uBCU6Ht+vs4gZ37PsoxEJE/169GsNnomiKS0Yx8St8O3wUiyrSC6f8EQIW9mt9w/PPCgQhD3OW2qnnJFPSayx1bVBiv40Ar05BFmC84xd/RIvtWucLpqFFxLcwqp+9+zipC12av57nErkZXme8u2uMOFvJ3g/7jIOrWfRh/hOT32gr7Hq2WS3kuKE7v/rgAh/H+cMxId/Au/0Srxjl2lTTJlAqOKXzq/X/CzpvVQPtpD3Ay9pNyHPkPHzL4mXT1J8TucCHPXuqCmv2XhwjUgaL6ckbvyV8nEae9eF6HXIA4y8Q4vbyIURuny5O61lrdrp/Pi5RmzePG2jaVWDyc8/Sr5tbsTuQI5g5NA+GZR4t4fQG8itjgiI/zibqzdis5Cp62UAJm/ZK91PRgU9MrNuGqfvAk4m2Twg8b5DxiOw3MLYaNJL/bfU3pdRbWSBDt3/yKCIbOLcRlkm9Q3L9voJLS6wQks+7zKS+vlYKYSXW320v7HmLxk/gSzRTIMXWcm8rdWnrbWZJiUOdSMlxeIUFejhbGnX2LiFcyVW04Jol4nwsP0bdQezeWym/5qh/LjV++BOd2TTqEYVWadGcwB+o5s78phNq32x4zaR/tg08fmZ48ORYP1THf77OwP6/X4dC84JdYExkvTH0CLb096rFngxQ+RkR3LIQ+Wb2r33OkPR7w3H5JX5GQA6ZIZ4QZiKtnWvmznhCeR8K3bXHvcqh6bdMarLe9wxWjGT7DON/5KcljoqSL5rEeatnTcvakcOkdc96OYDzuKPNPONvUF5BR9b1fGW9yLWh0tY2KtZB0uMhdYsKBCTsk8oyimpk12AulSL0lpTZGneu7Yi63+ryhT/B6Tc1yjNAjl/AAAAAElFTkSuQmCC"}),Object(h.jsx)("span",{className:"font-headFont font-bold leading-loose pt-3",children:"Fresh Coast Blockchain"})]}),Object(h.jsxs)("div",{className:"hidden lg:flex w-[55%]   justify-center space-x-8 font-headFont font-medium leading-loose  pt-2",children:[Object(h.jsx)(l.b,{to:"/",className:"".concat("/"==N?"bg-bgGray":""," hover:bg-bgGray py-1 px-2 rounded-lg  pb-1  cursor-pointer"),children:"Home"}),Object(h.jsx)(l.b,{to:"/creator/1",className:"".concat("creator"==N?"bg-bgGray":""," hover:bg-bgGray py-1 px-2 rounded-lg  pb-1  cursor-pointer"),children:"Workbench"}),Object(h.jsx)(l.b,{to:"/holder",className:"".concat("holder"==N||"proposals"==N?"bg-bgGray":""," hover:bg-bgGray py-1 px-2 rounded-lg  pb-1  cursor-pointer"),children:"Voter"}),Object(h.jsx)(l.b,{to:"/results",className:"".concat("results"==N?"bg-bgGray":""," hover:bg-bgGray py-1 px-2 rounded-lg  pb-1  cursor-pointer"),children:"Results"}),Object(h.jsx)(l.b,{to:"/about",className:"hover:bg-bgGray py-1 px-2 rounded-lg  pb-1  cursor-pointer",children:"About"})]}),Object(h.jsxs)("div",{className:"hidden lg:flex w-[20%] justify-end",children:[!b&&Object(h.jsx)("button",{onClick:a,className:"bg-primaryBtn h-full max-h-[50px]  text-white  font-headFont font-medium leading-loose cursor-pointer rounded-2xl  px-2 tracking-wider",children:"Connect Wallet"}),b&&Object(h.jsx)("button",{onClick:c,className:"bg-gray-400 w-fit text-gray-600  font-headFont font-medium leading-loose cursor-pointer rounded-2xl p-2 px-2 tracking-wider",children:"Disconnect Wallet"})]}),Object(h.jsx)("div",{className:"flex w-[15%] lg:hidden pt-3 justify-self-end justify-end",children:Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 cursor-pointer ",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",onClick:function(e){f("hidden"===m?"block":"hidden")},children:Object(h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),Object(h.jsxs)("div",{className:" ".concat(m," absolute lg:hidden top-full px-2 py-4 right-7 h-auto bg-white text-[15px] font-normal shadow rounded-md w-[200px]"),children:[Object(h.jsx)(l.b,{to:"/",children:Object(h.jsx)("div",{className:"".concat("/"==N?"bg-bgGray":""," w-full py-2 hover:bg-bgGray pl-2"),children:"Home"})}),Object(h.jsx)(l.b,{to:"/creator/1",children:Object(h.jsx)("div",{className:"".concat("creator"==N?"bg-bgGray":""," w-full py-2 hover:bg-bgGray pl-2"),children:"Workbench"})}),Object(h.jsx)(l.b,{to:"/holder",children:Object(h.jsx)("div",{className:"".concat("holder"==N?"bg-bgGray":""," w-full py-2 hover:bg-bgGray pl-2"),children:"Voter"})}),Object(h.jsx)(l.b,{to:"/results",children:Object(h.jsx)("div",{className:"".concat("results"==N?"bg-bgGray":""," w-full py-2 hover:bg-bgGray pl-2"),children:"Results"})}),Object(h.jsx)(l.b,{to:"/about",children:Object(h.jsx)("div",{className:"w-full py-2 hover:bg-bgGray pl-2",children:"About"})}),!b&&Object(h.jsx)("button",{onClick:a,className:"bg-primaryBtn w-full mt-2 text-white  font-headFont font-medium leading-loose cursor-pointer rounded-2xl p-2 px-2 tracking-wider",children:"Connect Wallet"}),b&&Object(h.jsx)("button",{onClick:c,className:"bg-gray-400 w-fit mt-2 text-white  font-headFont font-medium leading-loose cursor-pointer rounded-2xl p-2 px-2 tracking-wider",children:"Disconnect Wallet"})]})]})})},C=n.p+"static/media/homepageHero.2c081d07.png";var B=function(){var e=y(),t=Object(i.a)(e,1)[0],n=g(),s=Object(i.a)(n,2),a=s[0],c=(s[1],Object(d.b)());return c.isAuthenticated,c.isWeb3Enabled,c.enableWeb3,Object(h.jsx)("div",{children:Object(h.jsxs)("div",{className:"grid grid-cols-4 pt-14 pb-10 h-auto px-5 md:px-16  bg-bgBlue ",children:[Object(h.jsx)("div",{className:" col-span-4 sm:col-span-2 xl:col-span-3",children:Object(h.jsxs)("div",{className:"flex flex-col justify-center h-full ",children:[Object(h.jsx)("h2",{className:" font-bold text-center sm:text-left  text-3xl sm:text-4xl lg:text-6xl pb-4 xl:leading-normal",children:"Access to Unlimited Governance Proposals"}),Object(h.jsx)("p",{className:" text-xl text-justify  sm:text-left sm:text-2xl font-normal",children:"Make your voice heard. View and vote on governance proposals."}),Object(h.jsx)("div",{className:" flex justify-center sm:justify-start",children:!a&&Object(h.jsx)("div",{onClick:function(){t()},className:"bg-primaryBtn w-fit text-white mt-6  font-medium leading-loose cursor-pointer rounded-2xl p-2 px-4 tracking-wider",children:"Connect Wallet"})})]})}),Object(h.jsx)("div",{className:" hidden sm:block sm:col-span-2 xl:col-span-1",children:Object(h.jsx)("img",{className:" h-full w-full",src:C,alt:"freshconcept"})})]})})};var A=function(e){return Object(h.jsx)("div",{children:Object(h.jsx)("div",{className:"h-auto px-5  ".concat(e.bg," border-b-[1px] border-gray-300 pb-4"),children:Object(h.jsx)(k,{})})})},S=n.p+"static/media/result.df394e50.png";var T=function(){return Object(h.jsx)("div",{children:Object(h.jsxs)("div",{className:"pt-14 bg-bgBlue h-auto px-5 md:px-16 pb-10 grid grid-cols-4",children:[Object(h.jsx)("div",{className:"col-span-4 sm:col-span-2 xl:col-span-2",children:Object(h.jsxs)("div",{className:"flex flex-col justify-center h-full ",children:[Object(h.jsx)("h1",{className:"font-bold text-3xl sm:text-5xl lg:text-6xl pb-2  sm:pt-10",children:"Result"}),Object(h.jsx)("p",{className:"font-normal text-sm sm:text-xl ",children:"View full information and details of every finished proposal for several governance contract."})]})}),Object(h.jsx)("div",{className:"hidden sm:block sm:col-span-2 xl:col-span-2 h-[275px] ",children:Object(h.jsx)("img",{src:S,alt:"coin holder",className:"mr-0  h-full m-auto "})})]})})};var W=function(){var e=N(),t=Object(i.a)(e,2),n=t[0];return t[1],Object(s.useEffect)((function(){}),[]),Object(h.jsx)("div",{children:n&&Object(h.jsx)("div",{className:"fixed z-50 bg-black inset-0 bg-opacity-25 flex items-center justify-center px-3",children:Object(h.jsx)("div",{children:Object(h.jsxs)("div",{className:"m-auto bg-primaryBtn h-[40px] w-[80px] rounded-full flex items-center justify-center space-x-2",children:[Object(h.jsx)("div",{className:"bg-white rounded-full p-2 animate-bounce"}),Object(h.jsx)("div",{className:"bg-white rounded-full p-2 animate-bounce"}),Object(h.jsx)("div",{className:"bg-white rounded-full p-2 animate-bounce"})]})})})})},P=n.p+"static/media/img.2e348a05.png";var E=function(e){var t=g(),n=Object(i.a)(t,2),a=(n[0],n[1]),c=Object(s.useState)(""),r=Object(i.a)(c,2),o=(r[0],r[1]),b=Object(s.useState)(0),x=Object(i.a)(b,2),p=x[0],m=x[1],f=Object(s.useState)(""),O=Object(i.a)(f,2),v=O[0],y=O[1],N=Object(d.b)(),w=N.isAuthenticated,k=(N.isWeb3Enabled,N.enableWeb3,N.Moralis),C=N.isInitialized,B=function(){var t=Object(u.a)(j.a.mark((function t(){var n,s,a,c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=k.Object.extend("GovernorImages"),s=new n,(a=new k.Query(s)).equalTo("govInfo",e.contract.get("govAddress")),t.next=6,a.find();case 6:0==(c=t.sent).length?y(!1):y(c[0].get("image"));case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),A=function(){var t=Object(u.a)(j.a.mark((function t(){var n,s,a,c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=k.Object.extend("Proposals"),(s=new k.Query(n)).equalTo("govAddress",e.contract.get("govAddress")),t.next=5,s.find();case 5:a=t.sent,c=a.length,m(c);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(s.useEffect)((function(){if(C){if(a)o(a);else if(w){var e=k.User.current().get("accounts")[0];o(e)}B(),A()}}),[C,a,e.contract]),Object(h.jsx)("div",{children:Object(h.jsxs)("div",{className:" m-auto bg-bgGray rounded-md shadow-md col-span-1 w-full h-full max-h-[304px] max-w-[240px] pb-10",children:[Object(h.jsx)("h2",{className:"text-center font-bold text-md pt-6 first-letter:uppercase",children:e.contract.get("govName")}),Object(h.jsx)("img",{className:"h-[99px] w-[99px] rounded-full m-auto mt-6",alt:"coin",src:v?"https://ipfs.infura.io/ipfs/".concat(v):P}),Object(h.jsxs)("p",{className:"text-center font-normal text-xs pt-4",children:[p," ",p>1?"proposals":"proposal"]}),Object(h.jsx)("div",{className:"w-full h-auto flex justify-items-center pt-4",children:Object(h.jsx)(l.b,{to:"/proposals/".concat(e.contract.get("govAddress"),"/1"),className:"bg-secondaryBtn text-white text-sm font-medium text-center rounded-md px-4 py-2 m-auto cursor-pointer",children:"Join"})})]})})};n(1441);var I=function(e){var t,n,a,c,r,o=Object(s.useState)(!1),l=Object(i.a)(o,2),b=l[0],x=l[1],p=Object(s.useState)(e.caution),f=Object(i.a)(p,2),O=f[0],v=f[1],y=Object(s.useState)(""),N=Object(i.a)(y,2),w=(N[0],N[1]),k=Object(s.useState)(!1),C=Object(i.a)(k,2),B=C[0],A=C[1],S=Object(d.b)(),T=S.isAuthenticated,W=(S.isWeb3Enabled,S.enableWeb3,S.Moralis),P=S.isInitialized,E=Object(d.c)(),I=Object(s.useState)(!1),F=Object(i.a)(I,2),G=(F[0],F[1],g()),L=Object(i.a)(G,2),M=(L[0],L[1]),V=e.values,z=V.image,R=V.lockDelay,Q=V.voteDelay,U=V.votePeriod,Y=V.voteThreshold,q=(V.proposalThreshold,V.name);V.transactionValue;t=24*Number(R)*60*60,n=2*Number(Q),a=24*Number(U)*60*60,c=24*Number(Y)*60*60,r=24*Number(R)*60*60;var D=function(e){var t=e.events[0].raw.data.substring(2).match(/.{1,64}/g)[0].slice(-40);t="0x"+t,console.log(t);var n=new(W.Object.extend("GovernorImages"));n.set("govInfo",t),n.set("image",z),n.save().then((function(e){x(!1),v(!1),A(!0),window.location.reload()}),(function(e){alert("Failed to create new object, with error code: "+e.message)}))};function H(){return(H=Object(u.a)(j.a.mark((function e(){var s,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=new W.Web3(window.ethereum),e.next=3,s.eth.net.getId();case 3:if(43113!==e.sent){e.next=10;break}return i={contractAddress:"0x8728f06Cabc2850B2Faa6Ab6F007129cc3547c95",functionName:"createGovernor",abi:[{inputs:[{internalType:"string",name:"_governorName",type:"string"},{internalType:"uint256",name:"_timelockDelay",type:"uint256"},{internalType:"uint256",name:"_votingDelay",type:"uint256"},{internalType:"uint256",name:"_votingPeriod",type:"uint256"},{internalType:"uint256",name:"_proposalThreshold",type:"uint256"},{internalType:"uint256",name:"_votingThreshold",type:"uint256"}],name:"createGovernor",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"payable",type:"function"}],params:{_governorName:q,_timelockDelay:t,_votingDelay:n,_votingPeriod:a,_proposalThreshold:r,_votingThreshold:c}},e.next=8,E.fetch({params:i,onSuccess:function(e){D(e)},onError:function(e){x(!1),console.log(e)}});case 8:e.next=11;break;case 10:m.a.fire({title:"Warning!",text:"It looks like you are not on Avalanche fuji testnet, please select the right network to continue",icon:"info",confirmButtonText:"Ok",confirmButtonColor:"#2C6CF4"});case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(s.useEffect)((function(){var e=!0;if(e&&P)if(M)w(M);else if(T){var t=W.User.current().get("accounts")[0];w(t)}return function(){e=!1}}),[P,M]),Object(h.jsx)("div",{children:Object(h.jsxs)("div",{className:"fixed bg-black inset-0 bg-opacity-25 flex items-center justify-center px-3",children:[!b&&Object(h.jsxs)("div",{className:"bg-white w-full max-w-[320px] p-4 rounded-md text-justify ",children:[O&&Object(h.jsxs)("div",{children:[Object(h.jsxs)("p",{children:[Object(h.jsx)("strong",{children:"NOTE:"}),"This action can not be done, ensure all details provided are correct."]}),Object(h.jsxs)("div",{className:"flex justify-center space-x-3",children:[Object(h.jsx)("span",{className:"pt-2  text-xs text-primaryBtn cursor-pointer hover:underline",onClick:function(){e.hide(!1),x(!1)},children:"Edit form"}),Object(h.jsx)("button",{onClick:function(){x(!0),function(){H.apply(this,arguments)}()},className:" w-fit h-fit rounded-md px-2 py-2 cursor-pointer  bg-primaryBtn text-white text-xs",children:"Continue"})]})]}),B&&Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{className:"m-auto h-[60px] w-[60px] rounded-full text-white flex justify-center items-center bg-yesPoint",children:Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),Object(h.jsx)("h3",{className:"font-bold text-lg text-center",children:"Governance Contract Created Successfully."}),Object(h.jsx)("div",{className:"flex justify-center ",children:Object(h.jsx)("span",{className:"pt-2  text-xs text-primaryBtn cursor-pointer hover:underline",onClick:function(){return e.hide(!1)},children:"Close"})})]})]}),b&&Object(h.jsx)("div",{children:Object(h.jsxs)("div",{className:"m-auto bg-primaryBtn h-[40px] w-[80px] rounded-full flex items-center justify-center space-x-2",children:[Object(h.jsx)("div",{className:"bg-white rounded-full p-2 animate-bounce"}),Object(h.jsx)("div",{className:"bg-white rounded-full p-2 animate-bounce"}),Object(h.jsx)("div",{className:"bg-white rounded-full p-2 animate-bounce"})]})})]})})},F=n(669),G=Object(F.create)("https://ipfs.infura.io:5001/api/v0");var L=function(){var e=Object(s.useState)(!1),t=Object(i.a)(e,2),n=t[0],a=t[1],c=Object(s.useState)(!1),r=Object(i.a)(c,2),o=r[0],l=r[1],d=Object(s.useState)(null),b=Object(i.a)(d,2),x=(b[0],b[1]),p=Object(s.useState)(!1),m=Object(i.a)(p,2),f=m[0],O=m[1],v=Object(s.useState)(null),g=Object(i.a)(v,2),y=g[0],N=g[1],w=Object(s.useState)(""),k=Object(i.a)(w,2),C=k[0],B=k[1],A=Object(s.useState)(""),S=Object(i.a)(A,2),T=S[0],W=S[1],E=Object(s.useState)(""),F=Object(i.a)(E,2),L=F[0],M=F[1],V=Object(s.useState)(""),z=Object(i.a)(V,2),R=z[0],Q=z[1],U=Object(s.useState)(""),Y=Object(i.a)(U,2),q=Y[0],D=Y[1],H=Object(s.useState)(""),J=Object(i.a)(H,2),K=J[0],_=J[1],Z=Object(s.useState)(""),X=Object(i.a)(Z,2),$=X[0],ee=X[1],te=function(e){e.preventDefault();var t=e.target.files[0],n=new window.FileReader;n.readAsArrayBuffer(t),n.onloadend=Object(u.a)(j.a.mark((function e(){var t,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.result;case 2:return t=e.sent,x(t),O(!0),N(null),e.next=8,G.add(t);case 8:s=e.sent,console.log(s.path),N(s.path),O(!1);case 12:case"end":return e.stop()}}),e)})))};return Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{className:"grid gap-8 grid-cols-2 mt-10",children:[Object(h.jsx)("div",{className:"  col-span-2  sm:hidden ",children:Object(h.jsxs)("div",{className:"rounded-md bg-white h-auto w-[300px] px-3 py-6 m-auto",children:[Object(h.jsx)("div",{className:"text-center my-3 text-xs font-semibold",children:"Governance image"}),Object(h.jsxs)("div",{className:"rounded-full relative h-[150px] w-[150px] border-[1px] p-3 border-dashed border-primaryBtn  m-auto",children:[Object(h.jsx)("img",{src:y?"https://ipfs.infura.io/ipfs/".concat(y):P,className:"rounded-full w-full h-full"}),f&&Object(h.jsx)("div",{className:"absolute inset-0 rounded-full bg-black bg-opacity-30 flex justify-center items-center",children:Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-white animate-spin",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]}),Object(h.jsx)("div",{className:"flex justify-center mt-4",children:Object(h.jsx)("p",{className:" text-xs",children:"Select an image file from your device"})}),Object(h.jsx)("div",{className:"flex justify-center",children:Object(h.jsx)("input",{type:"file",accept:".jpg, .jpeg, .png, .gif",onChange:te,disabled:f,className:"ml-6 file:rounded-md file:border-none file:px-2 file-py-1 file:cursor-pointer mt-6 file:bg-primaryBtn file:text-white file:text-xs leading-6  file:py-2 file:font-semibold"})})]})}),Object(h.jsxs)("div",{className:"  col-span-2 sm:col-span-1 sm:pr-4",children:[Object(h.jsx)("div",{className:"mb-4",children:Object(h.jsx)("input",{className:" appearance-none border rounded-md w-full h-[40px] py-2 px-3 cursor-pointer text-gray-700 leading-tight text-xs focus:outline-primaryBtn ",type:"text",placeholder:"Governance name",onChange:function(e){ee(e.target.value.trim())}})}),Object(h.jsx)("div",{className:"mb-4",children:Object(h.jsxs)("select",{onChange:function(e){B(e.target.value)},className:"form-select appearance-none  border border-solid border-gray-300 rounded-md transition  ease-in  w-full h-[40px] cursor-pointer py-2 px-3 text-gray-400 leading-tight text-xs focus:outline-primaryBtn focus:text-black  ",children:[Object(h.jsx)("option",{value:"",children:"Time lock delay"}),Object(h.jsx)("option",{value:"2",children:"2 days"}),Object(h.jsx)("option",{value:"3",children:"3 days"}),Object(h.jsx)("option",{value:"4",children:"4 days"}),Object(h.jsx)("option",{value:"5",children:"5 days"}),Object(h.jsx)("option",{value:"6",children:"6 days"}),Object(h.jsx)("option",{value:"7",children:"7 days"}),Object(h.jsx)("option",{value:"8",children:"8 days"}),Object(h.jsx)("option",{value:"9",children:"9 days"}),Object(h.jsx)("option",{value:"10",children:"10 days"}),Object(h.jsx)("option",{value:"11",children:"11 days"}),Object(h.jsx)("option",{value:"12",children:"12 days"}),Object(h.jsx)("option",{value:"13",children:"13 days"}),Object(h.jsx)("option",{value:"14",children:"14 days"}),Object(h.jsx)("option",{value:"15",children:"15 days"}),Object(h.jsx)("option",{value:"16",children:"16 days"}),Object(h.jsx)("option",{value:"17",children:"17 days"}),Object(h.jsx)("option",{value:"18",children:"18 days"}),Object(h.jsx)("option",{value:"19",children:"19 days"}),Object(h.jsx)("option",{value:"20",children:"20 days"}),Object(h.jsx)("option",{value:"21",children:"21 days"}),Object(h.jsx)("option",{value:"22",children:"22 days"}),Object(h.jsx)("option",{value:"23",children:"23 days"}),Object(h.jsx)("option",{value:"24",children:"24 days"}),Object(h.jsx)("option",{value:"25",children:"25 days"}),Object(h.jsx)("option",{value:"26",children:"26 days"}),Object(h.jsx)("option",{value:"27",children:"27 days"}),Object(h.jsx)("option",{value:"28",children:"28 days"}),Object(h.jsx)("option",{value:"29",children:"29 days"}),Object(h.jsx)("option",{value:"30",children:"30 days"})]})}),Object(h.jsx)("div",{className:"mb-4",children:Object(h.jsxs)("select",{onChange:function(e){W(e.target.value)},className:"form-select appearance-none  border border-solid border-gray-300 rounded-md transition  ease-in  w-full h-[40px] cursor-pointer py-2 px-3 text-gray-400 leading-tight text-xs focus:outline-primaryBtn focus:text-black  ",children:[Object(h.jsx)("option",{value:"",children:"Voting delay"}),Object(h.jsx)("option",{value:"1",children:"1 day"}),Object(h.jsx)("option",{value:"2",children:"2 days"}),Object(h.jsx)("option",{value:"3",children:"3 days"}),Object(h.jsx)("option",{value:"4",children:"4 days"}),Object(h.jsx)("option",{value:"5",children:"5 days"}),Object(h.jsx)("option",{value:"6",children:"6 days"}),Object(h.jsx)("option",{value:"7",children:"7 days"}),Object(h.jsx)("option",{value:"8",children:"8 days"}),Object(h.jsx)("option",{value:"9",children:"9 days"}),Object(h.jsx)("option",{value:"10",children:"10 days"}),Object(h.jsx)("option",{value:"11",children:"11 days"}),Object(h.jsx)("option",{value:"12",children:"12 days"}),Object(h.jsx)("option",{value:"13",children:"13 days"}),Object(h.jsx)("option",{value:"14",children:"14 days"}),Object(h.jsx)("option",{value:"15",children:"15 days"}),Object(h.jsx)("option",{value:"16",children:"16 days"}),Object(h.jsx)("option",{value:"17",children:"17 days"}),Object(h.jsx)("option",{value:"18",children:"18 days"}),Object(h.jsx)("option",{value:"19",children:"19 days"}),Object(h.jsx)("option",{value:"20",children:"20 days"}),Object(h.jsx)("option",{value:"21",children:"21 days"}),Object(h.jsx)("option",{value:"22",children:"22 days"}),Object(h.jsx)("option",{value:"23",children:"23 days"}),Object(h.jsx)("option",{value:"24",children:"24 days"}),Object(h.jsx)("option",{value:"25",children:"25 days"}),Object(h.jsx)("option",{value:"26",children:"26 days"}),Object(h.jsx)("option",{value:"27",children:"27 days"}),Object(h.jsx)("option",{value:"28",children:"28 days"}),Object(h.jsx)("option",{value:"29",children:"29 days"}),Object(h.jsx)("option",{value:"30",children:"30 days"})]})}),Object(h.jsx)("div",{className:"mb-4",children:Object(h.jsxs)("select",{onChange:function(e){M(e.target.value)},className:"form-select focus:text-black  appearance-none  border border-solid border-gray-300 rounded-md transition  ease-in  w-full h-[40px] cursor-pointer py-2 px-3 text-gray-400 leading-tight text-xs focus:outline-primaryBtn  ",children:[Object(h.jsx)("option",{value:"",children:"Voting period"}),Object(h.jsx)("option",{value:"1",children:"1 day"}),Object(h.jsx)("option",{value:"2",children:"2 days"}),Object(h.jsx)("option",{value:"3",children:"3 days"}),Object(h.jsx)("option",{value:"4",children:"4 days"}),Object(h.jsx)("option",{value:"5",children:"5 days"}),Object(h.jsx)("option",{value:"6",children:"6 days"}),Object(h.jsx)("option",{value:"7",children:"7 days"}),Object(h.jsx)("option",{value:"8",children:"8 days"}),Object(h.jsx)("option",{value:"9",children:"9 days"}),Object(h.jsx)("option",{value:"10",children:"10 days"}),Object(h.jsx)("option",{value:"11",children:"11 days"}),Object(h.jsx)("option",{value:"12",children:"12 days"}),Object(h.jsx)("option",{value:"13",children:"13 days"}),Object(h.jsx)("option",{value:"14",children:"14 days"}),Object(h.jsx)("option",{value:"15",children:"15 days"}),Object(h.jsx)("option",{value:"16",children:"16 days"}),Object(h.jsx)("option",{value:"17",children:"17 days"}),Object(h.jsx)("option",{value:"18",children:"18 days"}),Object(h.jsx)("option",{value:"19",children:"19 days"}),Object(h.jsx)("option",{value:"20",children:"20 days"}),Object(h.jsx)("option",{value:"21",children:"21 days"}),Object(h.jsx)("option",{value:"22",children:"22 days"}),Object(h.jsx)("option",{value:"23",children:"23 days"}),Object(h.jsx)("option",{value:"24",children:"24 days"}),Object(h.jsx)("option",{value:"25",children:"25 days"}),Object(h.jsx)("option",{value:"26",children:"26 days"}),Object(h.jsx)("option",{value:"27",children:"27 days"}),Object(h.jsx)("option",{value:"28",children:"28 days"}),Object(h.jsx)("option",{value:"29",children:"29 days"}),Object(h.jsx)("option",{value:"30",children:"30 days"})]})}),Object(h.jsx)("div",{className:"mb-4",children:Object(h.jsxs)("select",{onChange:function(e){Q(e.target.value)},className:"form-select appearance-none  focus:text-black border border-solid border-gray-300 rounded-md transition  ease-in  w-full h-[40px] cursor-pointer py-2 px-3 text-gray-400 leading-tight text-xs focus:outline-primaryBtn  ",children:[Object(h.jsx)("option",{value:"",children:"Proposal threshold"}),Object(h.jsx)("option",{value:"1",children:"1"}),Object(h.jsx)("option",{value:"10",children:"10"}),Object(h.jsx)("option",{value:"50",children:"50"}),Object(h.jsx)("option",{value:"100",children:"100"}),Object(h.jsx)("option",{value:"500",children:"500"}),Object(h.jsx)("option",{value:"1000",children:"1000"})]})}),Object(h.jsx)("div",{className:"mb-4",children:Object(h.jsxs)("select",{onChange:function(e){D(e.target.value)},className:"form-select focus:text-black  appearance-none  border border-solid border-gray-300 rounded-md transition  ease-in  w-full h-[40px] cursor-pointer py-2 px-3 text-gray-400 leading-tight text-xs focus:outline-primaryBtn  ",children:[Object(h.jsx)("option",{value:"",children:"Voting threshold"}),Object(h.jsx)("option",{value:"1",children:"1"}),Object(h.jsx)("option",{value:"10",children:"10"}),Object(h.jsx)("option",{value:"50",children:"50"}),Object(h.jsx)("option",{value:"100",children:"100"}),Object(h.jsx)("option",{value:"500",children:"500"}),Object(h.jsx)("option",{value:"1000",children:"1000"})]})}),Object(h.jsx)("div",{className:"mb-4",children:Object(h.jsxs)("select",{onChange:function(e){_(e.target.value)},className:"form-select appearance-none focus:text-black  border border-solid border-gray-300 rounded-md transition  ease-in  w-full h-[40px] cursor-pointer py-2 px-3 text-gray-400 leading-tight text-xs focus:outline-primaryBtn  ",children:[Object(h.jsx)("option",{value:"",children:"Transaction value"}),Object(h.jsx)("option",{value:"0",children:"0"}),Object(h.jsx)("option",{value:"1",children:"1"}),Object(h.jsx)("option",{value:"10",children:"10"}),Object(h.jsx)("option",{value:"20",children:"20"}),Object(h.jsx)("option",{value:"30",children:"30"}),Object(h.jsx)("option",{value:"40",children:"40"}),Object(h.jsx)("option",{value:"50",children:"50"}),Object(h.jsx)("option",{value:"60",children:"60"}),Object(h.jsx)("option",{value:"70",children:"70"}),Object(h.jsx)("option",{value:"80",children:"80"}),Object(h.jsx)("option",{value:"90",children:"90"}),Object(h.jsx)("option",{value:"100",children:"100"})]})}),y&&C&&T&&L&&q&&R&&$&&!f&&Object(h.jsx)("div",{className:"flex justify-end",children:Object(h.jsx)("button",{onClick:function(){a(!0),l(!0)},className:" w-fit h-fit rounded-md px-2 py-2 cursor-pointer mt-6 bg-secondaryBtn text-white text-xs",children:"Create contract"})}),(!y||!C||!T||!L||!q||!R||!$||f)&&Object(h.jsx)("div",{className:"flex justify-end",children:Object(h.jsx)("button",{disabled:!0,className:" w-fit h-fit rounded-md px-2 py-2  mt-6 bg-gray-400 text-white text-xs",children:"Create contract"})})]}),Object(h.jsx)("div",{className:"  col-span-1 hidden sm:block ",children:Object(h.jsxs)("div",{className:"rounded-md bg-white h-auto w-[300px] px-3 py-6 m-auto",children:[Object(h.jsx)("div",{className:"text-center my-3 text-xs font-semibold",children:"Governance image"}),Object(h.jsxs)("div",{className:"rounded-full relative h-[150px] w-[150px] border-[1px] p-3 border-dashed border-primaryBtn  m-auto",children:[Object(h.jsx)("img",{src:y?"https://ipfs.infura.io/ipfs/".concat(y):P,className:"rounded-full w-full h-full"}),f&&Object(h.jsx)("div",{className:"absolute inset-0 rounded-full bg-black bg-opacity-30 flex justify-center items-center",children:Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-white animate-spin",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]}),Object(h.jsx)("div",{className:"flex justify-center mt-4",children:Object(h.jsx)("p",{className:" text-xs",children:"Select an image file from your device"})}),Object(h.jsx)("div",{className:"flex justify-center",children:Object(h.jsx)("input",{type:"file",accept:".jpg, .jpeg, .png, .gif",onChange:te,disabled:f,className:"ml-6 file:rounded-md file:border-none file:px-2 file-py-1 file:cursor-pointer mt-6 file:bg-primaryBtn file:text-white file:text-xs leading-6  file:py-2 file:font-semibold"})})]})})]}),n&&Object(h.jsx)(I,{caution:o,hide:a,values:{image:y,lockDelay:C,voteDelay:T,votePeriod:L,voteThreshold:q,proposalThreshold:R,name:$,transactionValue:K}})]})};var M=function(e){var t=g(),n=Object(i.a)(t,2),a=(n[0],n[1]),c=Object(s.useState)(""),r=Object(i.a)(c,2),o=(r[0],r[1]),l=Object(d.b)(),u=l.isAuthenticated,b=(l.isWeb3Enabled,l.enableWeb3,l.Moralis),j=l.isInitialized;return Object(s.useEffect)((function(){if(j)if(a)o(a);else if(u){var e=b.User.current().get("accounts")[0];o(e)}}),[j,e.contracts,a]),Object(h.jsx)("div",{className:"mt-3",children:e.contracts.map((function(e,t){return Object(h.jsx)(E,{contract:e},t)}))})};var V=function(e){var t=g(),n=Object(i.a)(t,2),s=n[0],a=(n[1],y()),c=Object(i.a)(a,2),r=c[0];return c[1],Object(h.jsxs)("div",{children:[Object(h.jsx)("h2",{className:"pt-8 font-bold text-2xl pb-4",children:"Governance Contract"}),!s&&Object(h.jsxs)("div",{children:[Object(h.jsx)("p",{className:"text-xs pt-3",children:"Connect your wallet to gain access to creating your own proposal."}),Object(h.jsx)("button",{onClick:r,className:"w-fit h-fit rounded-md px-4 py-2 cursor-pointer mt-6 bg-secondaryBtn text-white font-medium",children:"Connect wallet"})]}),s&&0===e.contracts.length&&!e.loading&&Object(h.jsx)(L,{}),s&&e.contracts.length>0&&!e.loading&&Object(h.jsx)(M,{contracts:e.contracts})]})},z=n(61);n.p;var R=function(e){var t=e.status;return 0===t?Object(h.jsx)("div",{className:"bg-gray-300 font-normal w-[100px]  flex items-center justify-center  text-center text-xs text-gray-500   sm:ml-2   rounded-full ",children:Object(h.jsx)("span",{children:"Upcoming"})}):1===t?Object(h.jsx)("div",{className:"bg-bgGray font-normal w-[100px] flex items-center justify-center text-center text-xs text-primaryBtn   sm:ml-2   rounded-full ",children:"Active"}):t>1?Object(h.jsx)("div",{className:"bg-greenShade font-normal w-[100px] flex items-center justify-center text-center text-xs text-yesPoint  sm:ml-2   rounded-full ",children:"Finished"}):void 0};var Q=function(e){var t=e.status,n=e.data,a=e.voteCount,c=e.totalVotes,r=g(),l=Object(i.a)(r,2),b=l[0],x=l[1],p=N(),f=Object(i.a)(p,2),O=(f[0],f[1]),v=Object(s.useState)(""),y=Object(i.a)(v,2),w=y[0],k=y[1],C=Object(s.useState)(""),B=Object(i.a)(C,2),A=(B[0],B[1]),S=Object(s.useState)(!1),T=Object(i.a)(S,2),W=T[0],P=(T[1],Object(d.b)()),E=P.isAuthenticated,I=(P.isWeb3Enabled,P.enableWeb3,P.Moralis),F=P.isInitialized,G=Object(o.g)().address,L=Object(d.c)();function M(e){return V.apply(this,arguments)}function V(){return(V=Object(u.a)(j.a.mark((function e(t){var n,s,a,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new I.Web3(window.ethereum),e.next=3,n.eth.net.getId();case 3:if(43113!==e.sent){e.next=21;break}return O(!0),s=I.Object.extend("Delegations"),(a=new I.Query(s)).equalTo("delegator",w),e.next=11,a.find();case 11:if(0!=e.sent.length){e.next=18;break}return c={contractAddress:"0x364ba491b1201a9c0bd326144cd6472e5ff299f1",functionName:"delegate",abi:[{inputs:[{internalType:"address",name:"delegatee",type:"address"}],name:"delegate",outputs:[],stateMutability:"nonpayable",type:"function"}],params:{delegatee:w}},e.next=16,L.fetch({params:c,onSuccess:function(){var e=new(I.Object.extend("Delegations"));e.set("isDelegated",!0),e.set("delegator",w),e.save().then((function(e){R(t)}))},onError:function(e){m.a.fire({title:"Error!",text:"An error occured during transaction",icon:"error",confirmButtonText:"Ok",confirmButtonColor:"#2C6CF4"}),O(!1)}});case 16:e.next=19;break;case 18:R(t);case 19:e.next=22;break;case 21:m.a.fire({title:"Warning!",text:"It looks like you are not on Avalanche fuji testnet, please select the right network to continue",icon:"info",confirmButtonText:"Ok",confirmButtonColor:"#2C6CF4"});case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var z=function(e){var t=new(I.Object.extend("Votes"));t.set("proposalId",Number(n.proposalId_)),t.set("vote",e),t.set("voter",w),t.set("govAddress",G),t.save().then((function(e){O(!1),window.location.reload()}),(function(e){alert("Failed to create new object, with error code: "+e.message),O(!1)}))};function R(e){return Q.apply(this,arguments)}function Q(){return(Q=Object(u.a)(j.a.mark((function e(t){var s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={contractAddress:G,functionName:"castVote",abi:[{inputs:[{internalType:"uint256",name:"proposalId",type:"uint256"},{internalType:"bool",name:"support",type:"bool"}],name:"castVote",outputs:[],stateMutability:"nonpayable",type:"function"}],params:{proposalId:Number(n.proposalId_),support:t}},e.next=3,I.enableWeb3();case 3:return e.next=5,L.fetch({params:s,onSuccess:function(){z(t)},onError:function(e){m.a.fire({title:"Error!",text:"An error occured during transaction",icon:"error",confirmButtonText:"Ok",confirmButtonColor:"#2C6CF4"}),O(!1)}});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var U=function(){return I.Units.FromWei(n.forVotes_)},Y=function(){return I.Units.FromWei(n.againstVotes_)},q=function(e,t){var n=Number(e)+Number(t),s=Number(e)/n*100;return(s=isNaN(s)&&!Number(s)?0:Number(s)).toFixed()},D=function(e,t){var n=Number(e)+Number(t),s=Number(t)/n*100;return(s=isNaN(s)&&!Number(s)?0:Number(s)).toFixed()},H=function(e,t){return 0===Number(e)&&0===Number(t)?"N/A":Number(e)>Number(t)?"Yes":Number(e)<Number(t)?"No":Number(e)===Number(t)?"Draw":void 0},J=function(){return q(U(),Y())+"%"},K=function(){return D(U(),Y())+"%"};return Object(s.useEffect)((function(){if(F)if(x){k(x);var e=I.User.current();A(e)}else if(E){var t=I.User.current();A(t);var n=t.get("accounts")[0];k(n)}}),[F,W,x]),0===t?Object(h.jsxs)("div",{className:"w-full",children:[Object(h.jsxs)("div",{className:"grid grid-cols-4 w-full ",children:[Object(h.jsxs)("div",{className:"col-span-3 flex",children:[Object(h.jsx)("div",{className:"bg-yesPoint h-2 w-2 rounded-full mt-1"}),Object(h.jsx)("div",{className:"text-xs font-bold ml-2",children:"Yes:"}),Object(h.jsx)("p",{className:"text-xs ml-2",children:"0"}),Object(h.jsx)("div",{className:"bg-noPoint h-2 w-2 rounded-full mt-1 ml-2"}),Object(h.jsx)("div",{className:"text-xs font-bold ml-2",children:"No:"}),Object(h.jsx)("p",{className:"text-xs ml-2",children:"0"})]}),Object(h.jsx)("div",{className:"col-span-1  text-right text-xs ",children:"0 vote"})]}),Object(h.jsx)("div",{className:"w-full h-2 bg-gray-300 rounded-full relative mt-4 sm:mt-0"})]}):1===t?Object(h.jsxs)("div",{className:"w-full",children:[Object(h.jsxs)("div",{className:"grid grid-cols-4 w-full ",children:[Object(h.jsxs)("div",{className:"col-span-3 flex",children:[Object(h.jsx)("div",{className:"bg-yesPoint h-2 w-2 rounded-full mt-1"}),Object(h.jsx)("div",{className:"text-xs font-bold ml-2",children:"Yes:"}),Object(h.jsxs)("p",{className:"text-xs ml-2",children:[U()," (",q(U(),Y()),"%)"]}),Object(h.jsx)("div",{className:"bg-noPoint h-2 w-2 rounded-full mt-1 ml-2"}),Object(h.jsx)("div",{className:"text-xs font-bold ml-2",children:"No:"}),Object(h.jsxs)("p",{className:"text-xs ml-2",children:[Y()," (",D(U(),Y()),"%)"]})]}),Object(h.jsxs)("div",{className:"col-span-1  text-right text-xs ",children:[c," ",1===c?"vote":"Votes"]})]}),Object(h.jsxs)("div",{className:"w-full h-2 bg-gray-300 rounded-full relative mt-4 sm:mt-0",children:[Object(h.jsx)("div",{className:"rounded-l h-full bg-yesPoint inline-block absolute top-0 left-0",style:{width:"".concat(J())}}),Object(h.jsx)("div",{className:"rounded-r h-full bg-noPoint inline-block absolute top-0 right-0",style:{width:"".concat(K())}})]})," ",Object(h.jsxs)("div",{className:"w-full grid grid-cols-2 mt-3",children:[Object(h.jsxs)("div",{className:"col-span-2 ".concat(b&&0!=a?"hidden":"lg:col-span-1"," "),children:[b&&0===a&&Object(h.jsxs)("div",{className:"flex justify-between md:justify-start md:space-x-10 md:mt-3",children:[Object(h.jsx)("button",{onClick:function(){return M(!1)},className:"w-12 bg-secondaryBtn text-white text-xs py-2 px-2 rounded-xl cursor-pointer",children:"No"}),Object(h.jsx)("button",{onClick:function(){return M(!0)},className:"w-12 bg-secondaryBtn text-white text-xs py-2 px-2 rounded-xl ml-2 cursor-pointer",children:"Yes"})]}),!b&&Object(h.jsxs)("div",{className:"flex justify-between md:justify-start",children:[Object(h.jsx)("button",{className:"w-12 bg-gray-400 text-white text-xs py-2 px-2 rounded-xl cursor-pointer",children:"No"}),Object(h.jsx)("button",{className:"w-12 bg-gray-400 text-white text-xs py-2 px-2 rounded-xl ml-2 cursor-pointer",children:"Yes"})]})]}),Object(h.jsxs)("div",{className:"pt-1 col-span-2 ".concat(b&&0!=a?"lg:col-span-2":"lg:col-span-1"," "),children:[Object(h.jsx)("span",{className:"font-semibold text-xs pl-2",children:"Approval Rating:"}),Object(h.jsxs)("span",{className:"text-xs pl-1",children:["(",q(U(),Y()),"%)"]}),Object(h.jsx)("span",{className:"font-semibold text-xs pl-2",children:"Quorom:"}),Object(h.jsxs)("span",{className:"text-xs pl-1",children:["(",H(U(),Y()),")"]})]})]})]}):t>1?Object(h.jsxs)("div",{className:"w-full",children:[Object(h.jsxs)("div",{className:"grid grid-cols-4 w-full ",children:[Object(h.jsxs)("div",{className:"col-span-3 flex",children:[Object(h.jsx)("div",{className:"bg-yesPoint h-2 w-2 rounded-full mt-1"}),Object(h.jsx)("div",{className:"text-xs font-bold ml-2",children:"Yes:"}),Object(h.jsxs)("p",{className:"text-xs ml-2",children:[U()," (",q(U(),Y()),"%)"]}),Object(h.jsx)("div",{className:"bg-noPoint h-2 w-2 rounded-full mt-1 ml-2"}),Object(h.jsx)("div",{className:"text-xs font-bold ml-2",children:"No:"}),Object(h.jsxs)("p",{className:"text-xs ml-2",children:[Y()," (",D(U(),Y()),"%)"]})]}),Object(h.jsxs)("div",{className:"col-span-1  text-right text-xs ",children:[c," ",1===c?"vote":"Votes"]})]}),Object(h.jsxs)("div",{className:"w-full h-2 bg-gray-300 rounded-full relative mt-4 sm:mt-0",children:[Object(h.jsx)("div",{className:"rounded-l h-full bg-yesPoint inline-block absolute top-0 left-0",style:{width:"".concat(J())}}),Object(h.jsx)("div",{className:"rounded-r h-full bg-noPoint inline-block absolute top-0 right-0",style:{width:"".concat(K())}})]})," ",Object(h.jsx)("div",{className:"w-full grid grid-cols-2 mt-3 ",children:Object(h.jsxs)("div",{className:"pt-1 col-span-2 ",children:[Object(h.jsx)("span",{className:"font-semibold text-xs pl-2",children:"Approval Rating:"}),Object(h.jsxs)("span",{className:"text-xs pl-1",children:["(",q(U(),Y()),"%)"]}),Object(h.jsx)("span",{className:"font-semibold text-xs pl-2 ",children:"Quorom:"}),Object(h.jsxs)("span",{className:"text-xs pl-1",children:["(",H(U(),Y()),")"]})]})})]}):void 0};var U=function(e){var t=g(),n=Object(i.a)(t,2),a=(n[0],n[1]),c=Object(s.useState)(!1),r=Object(i.a)(c,2),o=r[0],l=(r[1],Object(s.useState)(!1)),u=Object(i.a)(l,2),b=(u[0],u[1],Object(s.useState)(2)),j=Object(i.a)(b,2),x=j[0],p=(j[1],Object(s.useState)("")),m=Object(i.a)(p,2),f=(m[0],m[1]),O=Object(s.useState)(""),v=Object(i.a)(O,2),y=(v[0],v[1]),N=Object(s.useState)(""),w=Object(i.a)(N,2),k=(w[0],w[1],Object(s.useState)(!1)),C=Object(i.a)(k,2),B=(C[0],C[1],Object(s.useState)(!0)),A=Object(i.a)(B,2),S=(A[0],A[1],Object(d.b)()),T=S.isAuthenticated,W=(S.isWeb3Enabled,S.enableWeb3,S.Moralis),P=S.isInitialized;return Object(d.c)(),Object(s.useEffect)((function(){if(P)if(a){y(a);var e=W.User.current();f(e)}else if(!a&&T){var t=W.User.current();f(t);var n=t.get("accounts")[0];y(n)}}),[P,a,e]),Object(h.jsx)("div",{children:Object(h.jsxs)("div",{className:"fixed z-50 bg-bgBlue inset-0 bg-opacity-25 flex items-center justify-center px-3",children:[!o&&Object(h.jsxs)("div",{className:"bg-white w-full max-w-[400px] h-auto max-h-screen min-h-[200px] overflow-auto overscroll-none p-4 rounded-md text-justify relative",children:[Object(h.jsx)("div",{className:"flex w-fit  pt-4 border-b-2 px-2 ",children:Object(h.jsx)("div",{className:"w-fit px-2 text-center font-medium text-xs ".concat(2==x?"border-b-2  border-b-primaryBtn text-primaryBtn ":""," hover:border-b-2  hover:border-b-primaryBtn cursor-pointer"),children:"Description"})}),Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 absolute right-4 top-4 cursor-pointer",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",onClick:function(){return e.hide()},children:Object(h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),Object(h.jsx)("div",{children:Object(h.jsx)("div",{className:"m-auto  w-full    ",children:Object(h.jsx)("div",{className:" bg-white h-auto p-2 py-4  mb-4 ",children:Object(h.jsxs)("div",{className:" px-2 ",children:[Object(h.jsx)("div",{children:Object(h.jsxs)("div",{className:"flex justify-between",children:[Object(h.jsxs)("div",{className:"flex",children:[Object(h.jsx)("div",{className:"w-6 h-6 rounded-full",children:Object(h.jsx)("img",{className:"aspect-square mt-1 sm:mt-0 rounded-full",alt:"coin",src:e.img})}),Object(h.jsx)("h3",{className:"font-medium text-black text-sm pt-1 pl-2 ",children:e.name})]}),Object(h.jsx)(R,{status:e.status})]})}),1===x&&Object(h.jsxs)("div",{className:"w-full",children:[Object(h.jsxs)("div",{className:" w-full ",children:[Object(h.jsxs)("div",{className:" flex pt-4",children:[Object(h.jsx)("div",{className:"bg-yesPoint h-2 w-2 rounded-full mt-1"}),Object(h.jsxs)("div",{className:"text-xs  ml-2",children:[Object(h.jsx)("span",{className:"font-bold",children:"votes for:"})," ",e.yes,"(",e.yesPercent,"%)"]})]}),Object(h.jsx)("div",{className:"w-full h-2 bg-gray-300 rounded-full relative mt-2 ",children:Object(h.jsx)("div",{className:"rounded-l h-full bg-yesPoint inline-block absolute top-0 left-0",style:{width:"70%"}})})]}),Object(h.jsxs)("div",{className:" w-full ",children:[Object(h.jsxs)("div",{className:" flex pt-4",children:[Object(h.jsx)("div",{className:"bg-noPoint h-2 w-2 rounded-full mt-1"}),Object(h.jsxs)("div",{className:"text-xs  ml-2",children:[Object(h.jsx)("span",{className:"font-bold",children:"votes against:"})," ",e.no,"(",e.noPercent,"%)"]})]}),Object(h.jsx)("div",{className:"w-full h-2 bg-gray-300 rounded-full relative mt-2 ",children:Object(h.jsx)("div",{className:"rounded-l h-full bg-noPoint inline-block absolute top-0 left-0",style:{width:"30%"}})})]}),Object(h.jsxs)("div",{className:"pt-4 mb-3",children:[Object(h.jsx)("span",{className:"font-semibold text-xs pl-2",children:"Approval Rating:"}),Object(h.jsxs)("span",{className:"text-xs pl-1",children:["(",e.yesPercent,"%)"]}),Object(h.jsx)("span",{className:"font-semibold text-xs pl-2",children:"Quorom:"}),Object(h.jsxs)("span",{className:"text-xs pl-1",children:["(",e.verdict,")"]})]})]}),2===x&&Object(h.jsx)("div",{className:"text-sm pt-4",children:e.description})]})})})})]}),o&&Object(h.jsx)("div",{children:Object(h.jsxs)("div",{className:"m-auto bg-primaryBtn h-[40px] w-[80px] rounded-full flex items-center justify-center space-x-2",children:[Object(h.jsx)("div",{className:"bg-white rounded-full p-2 animate-bounce"}),Object(h.jsx)("div",{className:"bg-white rounded-full p-2 animate-bounce"}),Object(h.jsx)("div",{className:"bg-white rounded-full p-2 animate-bounce"})]})})]})})};var Y=function(e){var t=g(),n=Object(i.a)(t,2),a=(n[0],n[1]),c=Object(s.useState)(0),r=Object(i.a)(c,2),o=r[0],l=r[1],b=Object(s.useState)(0),x=Object(i.a)(b,2),p=x[0],m=x[1],f=Object(s.useState)(""),O=Object(i.a)(f,2),v=O[0],y=O[1],N=Object(s.useState)(!1),w=Object(i.a)(N,2),k=w[0],C=w[1],B=Object(d.b)(),A=B.isAuthenticated,S=(B.isWeb3Enabled,B.enableWeb3,B.Moralis),T=(B.isInitialized,B.isWeb3EnableLoading,function(){var t=Object(u.a)(j.a.mark((function t(n){var s,a,c,r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=S.Object.extend("Votes"),(a=new S.Query(s)).equalTo("voter",n),a.equalTo("proposalId",Number(e.data.proposalId_)),a.equalTo("govAddress",e.address),t.next=7,a.find();case 7:c=t.sent,r=c.length,l(r);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),W=function(){var e=Object(u.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a?T(t=a):!a&&A?(n=S.User.current(),t=n.get("accounts")[0],T(t)):l(1);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var t=Object(u.a)(j.a.mark((function t(){var n,s,a,c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=S.Object.extend("Votes"),(s=new S.Query(n)).equalTo("proposalId",Number(e.data.proposalId_)),s.equalTo("govAddress",e.address),t.next=6,s.find();case 6:a=t.sent,c=a.length,m(c);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),I=function(){var t=Object(u.a)(j.a.mark((function t(){var n,s,a,c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=S.Object.extend("GovernorImages"),s=new n,(a=new S.Query(s)).equalTo("govInfo",e.address),t.next=6,a.find();case 6:0==(c=t.sent).length?y(!1):y(c[0].get("image"));case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(s.useEffect)((function(){W(),E(),I()}),[a]),Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{onClick:function(){C(!0)},className:" hover:shadow-md cursor-pointer bg-white h-auto p-2 py-4 rounded-xl border-2 border-coinCardBorder grid grid-cols-2 mb-4",children:[Object(h.jsx)("div",{className:"col-span-2 sm:col-span-1 px-2 border-r-0  sm:border-r-2 border-coinCardBorder ",children:Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{className:"flex justify-between",children:[Object(h.jsxs)("div",{className:"flex",children:[Object(h.jsx)("div",{className:"w-6 h-6 rounded-full",children:Object(h.jsx)("img",{className:"aspect-square mt-1 sm:mt-0 rounded-full",alt:"coin",src:v?"https://ipfs.infura.io/ipfs/".concat(v):P})}),Object(h.jsx)("h3",{className:"font-medium text-sm pt-1 pl-2 ",children:e.name})]}),Object(h.jsx)(R,{status:e.status})]}),Object(h.jsxs)("p",{className:"text-sm pt-2 font-normal",children:[e.description.substring(0,100),e.description.length>100?"...":""]})]})}),Object(h.jsx)("div",{className:"col-span-2 sm:col-span-1 px-2 flex  items-center mt-10 sm:mt-0",children:Object(h.jsx)(Q,{status:e.status,data:e.data,voteCount:o,totalVotes:p})})]}),k&&Object(h.jsx)(U,{hide:C,name:e.name,description:e.description,img:v?"https://ipfs.infura.io/ipfs/".concat(v):P,status:e.status})]})};var q=function(e){var t=Object(s.useState)(""),n=Object(i.a)(t,2),a=(n[0],n[1]),c=Object(o.g)().address,r=Object(d.b)(),l=r.isAuthenticated,u=(r.isWeb3Enabled,r.enableWeb3,r.Moralis),b=r.isInitialized;return r.isWeb3EnableLoading,Object(s.useEffect)((function(){var e=!0;if(e&&b&&l){var t=u.User.current().get("accounts")[0];a(t)}return function(){e=!1}}),[b]),Object(h.jsx)("div",{children:e.proposals.map((function(t,n){return t.data?Object(h.jsx)(Y,{status:Number(t.data.state_),data:t.data,description:t.description,name:e.govName,address:e.address?e.address:c},n):Object(h.jsx)("span",{},n)}))})};var D=function(e){var t=Object(d.b)(),n=t.Moralis,a=t.isInitialized,c=Object(s.useState)(""),r=Object(i.a)(c,2),o=(r[0],r[1],Object(s.useState)("")),l=Object(i.a)(o,2),b=l[0],x=l[1],p=Object(s.useState)(""),m=Object(i.a)(p,2),f=m[0],O=m[1],v=Object(s.useState)("all"),y=Object(i.a)(v,2),N=y[0],w=y[1],k=Object(s.useState)([]),C=Object(i.a)(k,2),B=(C[0],C[1],Object(s.useState)(!0)),A=Object(i.a)(B,2),S=A[0],T=A[1],W=Object(s.useState)([]),P=Object(i.a)(W,2),E=P[0],I=P[1],F=g(),G=Object(i.a)(F,2),L=G[0],M=(G[1],function(e){var t=[];return e.forEach((function(e){("all"==N||"pending"==N&&0==e.data.state_||"active"==N&&1==e.data.state_||"finished"==N&&e.data.state_>1)&&(t=[].concat(Object(z.a)(t),[e]))})),t}),V=function(){var e=Object(u.a)(j.a.mark((function e(t,s,a){var c,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={contractAddress:a,functionName:"getProposalData",abi:[{inputs:[{internalType:"uint256",name:"proposalId",type:"uint256"}],name:"getProposalData",outputs:[{internalType:"uint256",name:"proposalId_",type:"uint256"},{internalType:"address",name:"proposer_",type:"address"},{internalType:"uint256",name:"startTime_",type:"uint256"},{internalType:"uint256",name:"endTime_",type:"uint256"},{internalType:"uint256",name:"startBlock_",type:"uint256"},{internalType:"uint256",name:"forVotes_",type:"uint256"},{internalType:"uint256",name:"againstVotes_",type:"uint256"},{internalType:"bool",name:"canceled_",type:"bool"},{internalType:"bool",name:"executed_",type:"bool"},{internalType:"enum VoteGovernorAlpha.ProposalState",name:"state_",type:"uint8"}],stateMutability:"view",type:"function"}],params:{proposalId:t}},e.next=4,n.enableWeb3();case 4:return e.next=6,n.executeFunction(c);case 6:return r=e.sent,e.abrupt("return",{data:r,description:s});case 8:case"end":return e.stop()}}),e)})));return function(t,n,s){return e.apply(this,arguments)}}(),R=function(){var t=Object(u.a)(j.a.mark((function t(){var s,a,c,r,i,o,l,d,u,b,p,m,h,f;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=e.contracts[0].get("govAddress"),O(e.contracts[0].get("govName")),x(s),a=n.Object.extend("Proposals"),(c=new n.Query(a)).equalTo("govAddress",s),t.next=8,c.find();case 8:if(!((r=t.sent).length>0)){t.next=31;break}b=[],p=0;case 12:if(!(p<r.length)){t.next=26;break}return m=r[p],i=m.get("description"),o=m.get("proposalId"),l=o.events[0].raw.data.substring(2),d=l.match(/.{1,64}/g)[1],u=d.charAt(d.length-1),t.next=21,V(u,i,s);case 21:h=t.sent,b=[].concat(Object(z.a)(b),[h]);case 23:p++,t.next=12;break;case 26:f=M(b),I(f),T(!1),t.next=32;break;case 31:T(!1);case 32:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(s.useEffect)((function(){a&&e.contracts.length>0&&R()}),[a,e.contracts,N]),Object(h.jsxs)("div",{children:[Object(h.jsx)("h2",{className:"pt-8 font-bold text-2xl pb-4",children:"Your proposals"}),Object(h.jsx)("p",{className:"text-lg",children:"Kindly find all created proposals below"}),Object(h.jsxs)("div",{className:"mt-8",children:[Object(h.jsxs)("div",{className:"grid grid-cols-2 mb-5",children:[Object(h.jsx)("div",{className:"col-span-2 sm:col-span-1"}),Object(h.jsxs)("div",{className:"col-span-2 sm:col-span-1 grid grid-cols-4 gap-4",children:[Object(h.jsx)("div",{className:"col-span-4 sm:col-span-3",children:Object(h.jsx)("form",{children:Object(h.jsxs)("div",{className:"relative text-gray-400 text-right  ",children:[Object(h.jsx)("span",{className:"absolute y-0 l-0 ",children:Object(h.jsx)("button",{type:"submit",className:"p-1 pt-2 pl-2 focus:outline-none focus:shadow-outline",children:Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:Object(h.jsx)("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})})}),Object(h.jsx)("input",{type:"text",name:"q",className:"py-2 text-sm text-gray-500 rounded-full w-full max-w-md pl-10 focus:outline-none  shadow-md cursor-pointer ",placeholder:"Search...",autoComplete:"off"})]})})}),Object(h.jsx)("div",{className:"col-span-4 sm:col-span-1",children:Object(h.jsxs)("div",{className:"relative",children:[Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 absolute top-4 right-2  ",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),Object(h.jsx)("form",{children:Object(h.jsxs)("select",{onChange:function(e){w(e.target.value)},value:N,className:"form-select appearance-none bg-coinCardBorder   rounded-md transition  ease-in-out  w-full h-[40px] cursor-pointer py-2 px-3  leading-tight text-xs focus:outline-primaryBtn  ",children:[Object(h.jsx)("option",{value:"all",children:"All"}),Object(h.jsx)("option",{value:"active",children:"Active"}),Object(h.jsx)("option",{value:"pending",children:"Pending"}),Object(h.jsx)("option",{value:"finished",children:"Finished"})]})})]})})]})]}),Object(h.jsxs)("div",{children:[!L&&Object(h.jsx)("div",{className:"font-semibold text-lg text-gray-600",children:"Please connect a wallet"}),S&&L&&Object(h.jsx)("div",{className:"font-semibold text-lg text-gray-600",children:"Loading Proposals"}),E.length>0&&!S&&L&&Object(h.jsx)(q,{proposals:E,govName:f,address:b}),0===E.length&&!S&&L&&Object(h.jsx)("div",{className:"font-semibold text-lg text-gray-600",children:"No Proposals Found"})]})]})]})};var H=function(e){var t=Object(s.useState)(""),n=Object(i.a)(t,2),a=n[0],c=n[1],r=Object(s.useState)(""),o=Object(i.a)(r,2),l=o[0],b=o[1],x=Object(s.useState)(""),p=Object(i.a)(x,2),m=p[0],f=p[1],O=Object(s.useState)(!0),v=Object(i.a)(O,2),y=v[0],N=v[1],w=Object(s.useState)(!1),k=Object(i.a)(w,2),C=k[0],B=k[1],A=g(),S=Object(i.a)(A,2),T=S[0],W=(S[1],Object(d.b)()),P=(W.isAuthenticated,W.isWeb3Enabled,W.enableWeb3,W.Moralis),E=W.isInitialized,I=function(){var e=Object(u.a)(j.a.mark((function e(){var t,n,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=P.Object.extend("GovernanceInstanceCreations"),(n=new P.Query(t)).equalTo("govAddress",m),e.next=5,n.find();case 5:(s=e.sent)[0].set("about",[a]),s[0].save().then((function(e){B(!0)}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){E&&e.contracts.length>0&&function(){var t=e.contracts[0].get("govAddress");f(t),e.contracts[0].get("about")&&e.contracts[0].get("about").length>0&&b(e.contracts[0].get("about")[0]),N(!1)}()}),[E,e.contracts,C]),Object(h.jsxs)("div",{children:[!l&&!y&&Object(h.jsxs)("div",{children:[Object(h.jsx)("h2",{className:"pt-8 font-bold text-2xl pb-4",children:"Talk about your governance"}),Object(h.jsx)("p",{className:"text-lg",children:"Tell users about your governance by providing more insight into who is involved, the purpose of gonernance and effects that they can make."})]}),Object(h.jsxs)("div",{className:"mt-8",children:[!T&&Object(h.jsx)("div",{className:"font-semibold text-lg text-gray-600",children:"Please connect a wallet"}),Object(h.jsx)("div",{children:l&&!y&&T&&Object(h.jsx)("p",{className:"text-lg text-justify leading-relaxed",children:l})}),Object(h.jsx)("div",{className:"w-full max-w-[600px] ",children:Object(h.jsx)("form",{children:!l&&!y&&T&&Object(h.jsxs)("div",{children:[Object(h.jsx)("textarea",{onChange:function(e){c(e.target.value)},value:a,className:"w-full h-[300px] p-3 text-xs focus:outline-primaryBtn rounded-md"}),Object(h.jsx)("div",{className:"flex justify-end",children:Object(h.jsx)("button",{onClick:function(e){e.preventDefault(),a.trim().length>0&&I()},className:" w-fit h-fit rounded-md px-2 py-2 cursor-pointer mt-6 bg-secondaryBtn text-white text-xs",children:"Done"})})]})})})]})]})};var J=function(e){var t=g(),n=Object(i.a)(t,2),a=(n[0],n[1]),c=Object(s.useState)(!1),r=Object(i.a)(c,2),o=r[0],l=(r[1],Object(s.useState)(!1)),u=Object(i.a)(l,2),b=(u[0],u[1],Object(s.useState)(1)),j=Object(i.a)(b,2),x=j[0],p=j[1],m=Object(s.useState)(""),f=Object(i.a)(m,2),O=(f[0],f[1]),v=Object(s.useState)(""),y=Object(i.a)(v,2),N=(y[0],y[1]),w=Object(s.useState)(""),k=Object(i.a)(w,2),C=(k[0],k[1],Object(s.useState)(!1)),B=Object(i.a)(C,2),A=(B[0],B[1],Object(s.useState)(!0)),S=Object(i.a)(A,2),T=(S[0],S[1],Object(d.b)()),W=T.isAuthenticated,P=(T.isWeb3Enabled,T.enableWeb3,T.Moralis),E=T.isInitialized;return Object(d.c)(),Object(s.useEffect)((function(){if(E)if(a){N(a);var e=P.User.current();O(e)}else if(!a&&W){var t=P.User.current();O(t);var n=t.get("accounts")[0];N(n)}}),[E,a,e]),Object(h.jsx)("div",{children:Object(h.jsxs)("div",{className:"fixed z-50 bg-bgBlue inset-0 bg-opacity-25 flex items-center justify-center px-3",children:[!o&&Object(h.jsxs)("div",{className:"bg-white w-full max-w-[400px] h-auto max-h-screen min-h-[200px] overflow-auto overscroll-none p-4 rounded-md text-justify relative",children:[Object(h.jsxs)("div",{className:"flex w-fit  pt-4 border-b-2 px-2 ",children:[Object(h.jsx)("div",{onClick:function(){return p(1)},className:"w-fit px-2 text-center font-medium text-xs  ".concat(1==x?"border-b-2 border-b-primaryBtn text-primaryBtn ":""," hover:border-b-2 hover:border-b-primaryBtn cursor-pointer"),children:"Result"}),Object(h.jsx)("div",{onClick:function(){return p(2)},className:"w-fit px-2 text-center font-medium text-xs ".concat(2==x?"border-b-2  border-b-primaryBtn text-primaryBtn ":""," hover:border-b-2  hover:border-b-primaryBtn cursor-pointer"),children:"Description"})]}),Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 absolute right-4 top-4 cursor-pointer",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",onClick:function(){return e.hide()},children:Object(h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),Object(h.jsx)("div",{children:Object(h.jsx)("div",{className:"m-auto  w-full    ",children:Object(h.jsx)("div",{className:" bg-white h-auto p-2 py-4  mb-4 ",children:Object(h.jsxs)("div",{className:" px-2 ",children:[Object(h.jsx)("div",{children:Object(h.jsxs)("div",{className:"flex justify-between",children:[Object(h.jsxs)("div",{className:"flex",children:[Object(h.jsx)("div",{className:"w-6 h-6 rounded-full",children:Object(h.jsx)("img",{className:"aspect-square mt-1 sm:mt-0 rounded-full",alt:"coin",src:e.img})}),Object(h.jsx)("h3",{className:"font-medium text-black text-sm pt-1 pl-2 ",children:e.name})]}),Object(h.jsx)("div",{className:"bg-bgBlue font-normal w-[100px] flex items-center justify-center text-center text-xs text-primaryBtn  sm:ml-2   rounded-full ",children:"vote ended"})]})}),1===x&&Object(h.jsxs)("div",{className:"w-full",children:[Object(h.jsxs)("div",{className:" w-full ",children:[Object(h.jsxs)("div",{className:" flex pt-4",children:[Object(h.jsx)("div",{className:"bg-yesPoint h-2 w-2 rounded-full mt-1"}),Object(h.jsxs)("div",{className:"text-xs  ml-2",children:[Object(h.jsx)("span",{className:"font-bold",children:"votes for:"})," ",e.yes,"(",e.yesPercent,"%)"]})]}),Object(h.jsx)("div",{className:"w-full h-2 bg-gray-300 rounded-full relative mt-2 ",children:Object(h.jsx)("div",{className:"rounded-l h-full bg-yesPoint inline-block absolute top-0 left-0",style:{width:"70%"}})})]}),Object(h.jsxs)("div",{className:" w-full ",children:[Object(h.jsxs)("div",{className:" flex pt-4",children:[Object(h.jsx)("div",{className:"bg-noPoint h-2 w-2 rounded-full mt-1"}),Object(h.jsxs)("div",{className:"text-xs  ml-2",children:[Object(h.jsx)("span",{className:"font-bold",children:"votes against:"})," ",e.no,"(",e.noPercent,"%)"]})]}),Object(h.jsx)("div",{className:"w-full h-2 bg-gray-300 rounded-full relative mt-2 ",children:Object(h.jsx)("div",{className:"rounded-l h-full bg-noPoint inline-block absolute top-0 left-0",style:{width:"30%"}})})]}),Object(h.jsxs)("div",{className:"pt-4 mb-3",children:[Object(h.jsx)("span",{className:"font-semibold text-xs pl-2",children:"Approval Rating:"}),Object(h.jsxs)("span",{className:"text-xs pl-1",children:["(",e.yesPercent,"%)"]}),Object(h.jsx)("span",{className:"font-semibold text-xs pl-2",children:"Quorom:"}),Object(h.jsxs)("span",{className:"text-xs pl-1",children:["(",e.verdict,")"]})]})]}),2===x&&Object(h.jsx)("div",{className:"text-sm pt-4",children:e.description})]})})})})]}),o&&Object(h.jsx)("div",{children:Object(h.jsxs)("div",{className:"m-auto bg-primaryBtn h-[40px] w-[80px] rounded-full flex items-center justify-center space-x-2",children:[Object(h.jsx)("div",{className:"bg-white rounded-full p-2 animate-bounce"}),Object(h.jsx)("div",{className:"bg-white rounded-full p-2 animate-bounce"}),Object(h.jsx)("div",{className:"bg-white rounded-full p-2 animate-bounce"})]})})]})})};var K=function(e){var t,n,a=g(),c=Object(i.a)(a,2),r=(c[0],c[1],Object(s.useState)("")),o=Object(i.a)(r,2),l=o[0],b=o[1],x=Object(s.useState)(""),p=Object(i.a)(x,2),m=p[0],f=p[1],O=Object(s.useState)(!1),v=Object(i.a)(O,2),y=v[0],N=v[1],w=Object(d.b)(),k=(w.isAuthenticated,w.isWeb3Enabled,w.enableWeb3,w.Moralis),C=w.isInitialized,B=(w.isWeb3EnableLoading,function(){var t=Object(u.a)(j.a.mark((function t(){var n,s,a,c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=k.Object.extend("GovernanceInstanceCreations"),(s=new k.Query(n)).equalTo("govAddress",e.address),t.next=5,s.find();case 5:a=t.sent,c=a[0].get("govName"),b(c);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()),A=function(){var t=Object(u.a)(j.a.mark((function t(){var n,s,a,c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=k.Object.extend("GovernorImages"),s=new n,(a=new k.Query(s)).equalTo("govInfo",e.address),t.next=6,a.find();case 6:0==(c=t.sent).length?f(!1):f(c[0].get("image"));case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),S=function(){return k.Units.FromWei(e.data.forVotes_)},T=function(){return k.Units.FromWei(e.data.againstVotes_)};return Object(s.useEffect)((function(){C&&(B(),A())}),[C,e]),Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{onClick:function(){N(!0)},className:" hover:shadow-md col-span-1 bg-white h-auto p-2 py-4 rounded-xl border-2 border-coinCardBorder mb-4 cursor-pointer",children:Object(h.jsx)("div",{className:" px-2 ",children:Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{className:"flex justify-between",children:[Object(h.jsxs)("div",{className:"flex",children:[Object(h.jsx)("div",{className:"w-6 h-6 rounded-full",children:Object(h.jsx)("img",{className:"aspect-square mt-1 sm:mt-0 rounded-full",alt:"coin",src:m?"https://ipfs.infura.io/ipfs/".concat(m):P})}),Object(h.jsx)("h3",{className:"font-medium text-sm pt-1 pl-2 ",children:l})]}),Object(h.jsx)("div",{className:"bg-greenShade font-normal w-[100px] flex items-center justify-center text-center text-xs text-yesPoint  sm:ml-2   rounded-full ",children:"Finished"})]}),Object(h.jsxs)("p",{className:"text-sm pt-2 font-normal",children:[e.description.substring(0,100),e.description.length>100?"...":""]})]})})}),y&&Object(h.jsx)(J,{hide:N,name:l,description:e.description,img:m?"https://ipfs.infura.io/ipfs/".concat(m):P,yes:S(),no:T(),yesPercent:function(e,t){var n=Number(e)+Number(t),s=Number(e)/n*100;return(s=isNaN(s)&&!Number(s)?0:Number(s)).toFixed()}(S(),T()),noPercent:function(e,t){var n=Number(e)+Number(t),s=Number(t)/n*100;return(s=isNaN(s)&&!Number(s)?0:Number(s)).toFixed()}(S(),T()),verdict:(t=S(),n=T(),0===Number(t)&&0===Number(n)?"N/A":Number(t)>Number(n)?"Yes":Number(t)<Number(n)?"No":Number(t)===Number(n)?"Draw":void 0)})]})};var _=function(){var e=g(),t=Object(i.a)(e,2),n=(t[0],t[1]),a=Object(s.useState)(""),c=Object(i.a)(a,2),r=(c[0],c[1]),o=Object(s.useState)("finished"),l=Object(i.a)(o,2),b=l[0],x=(l[1],Object(s.useState)("")),p=Object(i.a)(x,2),f=(p[0],p[1],Object(s.useState)(!0)),O=Object(i.a)(f,2),v=O[0],y=O[1],N=Object(s.useState)([]),w=Object(i.a)(N,2),k=w[0],C=w[1],B=Object(d.b)(),A=B.isAuthenticated,S=(B.isWeb3Enabled,B.enableWeb3,B.Moralis),T=B.isInitialized,W=(B.isWeb3EnableLoading,Object(d.c)(),function(e){var t=[];return e.forEach((function(e){("all"==b||"pending"==b&&0==e.data.state_||"active"==b&&1==e.data.state_||"finished"==b&&e.data.state_>1)&&(t=[].concat(Object(z.a)(t),[e]))})),t}),P=function(){var e=Object(u.a)(j.a.mark((function e(t,n,s){var a,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={contractAddress:s,functionName:"getProposalData",abi:[{inputs:[{internalType:"uint256",name:"proposalId",type:"uint256"}],name:"getProposalData",outputs:[{internalType:"uint256",name:"proposalId_",type:"uint256"},{internalType:"address",name:"proposer_",type:"address"},{internalType:"uint256",name:"startTime_",type:"uint256"},{internalType:"uint256",name:"endTime_",type:"uint256"},{internalType:"uint256",name:"startBlock_",type:"uint256"},{internalType:"uint256",name:"forVotes_",type:"uint256"},{internalType:"uint256",name:"againstVotes_",type:"uint256"},{internalType:"bool",name:"canceled_",type:"bool"},{internalType:"bool",name:"executed_",type:"bool"},{internalType:"enum VoteGovernorAlpha.ProposalState",name:"state_",type:"uint8"}],stateMutability:"view",type:"function"}],params:{proposalId:t}},e.next=4,S.enableWeb3();case 4:return e.next=6,S.executeFunction(a);case 6:return c=e.sent,e.abrupt("return",{data:c,description:n,address:s});case 8:case"end":return e.stop()}}),e)})));return function(t,n,s){return e.apply(this,arguments)}}(),E=function(){var e=Object(u.a)(j.a.mark((function e(){var t,n,s,a,c,r,i,o,l,d,u,b,x,p;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new S.Web3(window.ethereum),e.next=3,t.eth.net.getId();case 3:if(43113!==e.sent){e.next=37;break}return y(!0),n=S.Object.extend("Proposals"),(s=new S.Query(n)).notEqualTo("govAddress",!1),e.next=11,s.find();case 11:if(!((a=e.sent).length>0)){e.next=34;break}d=[],u=0;case 15:if(!(u<a.length)){e.next=29;break}return b=a[u],c=b.get("description"),r=b.get("proposalId"),i=r.events[0].raw.data.substring(2),o=i.match(/.{1,64}/g)[1],l=o.charAt(o.length-1),e.next=24,P(l,c,a[u].get("govAddress"));case 24:x=e.sent,d=[].concat(Object(z.a)(d),[x]);case 26:u++,e.next=15;break;case 29:p=W(d),C(p),y(!1),e.next=35;break;case 34:y(!1);case 35:e.next=39;break;case 37:y(!1),m.a.fire({title:"Warning!",text:"It looks like you are not on Avalanche fuji testnet, please select the right network to access the data",icon:"info",confirmButtonText:"Ok",confirmButtonColor:"#2C6CF4"});case 39:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){if(T)if("undefined"!==typeof window.ethereum){if(E(),n)r(n);else if(A){var e=S.User.current().get("accounts")[0];r(e)}}else m.a.fire({title:"Error!",text:"Your browser is not web3 enabled you can download metamask to enable this.",icon:"error",confirmButtonText:"Ok",confirmButtonColor:"#2C6CF4"}),y(!1)}),[T,n,b]),Object(h.jsx)("div",{children:Object(h.jsxs)("div",{children:[v&&Object(h.jsx)("div",{className:"font-semibold text-lg text-gray-600 mt-6",children:"Loading Results..."}),k.length>0&&!v&&Object(h.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 pt-4",children:k.map((function(e,t){return e.data?Object(h.jsx)(K,{data:e.data,description:e.description,address:e.address},t):Object(h.jsx)("span",{},t)}))}),0===k.length&&!v&&Object(h.jsx)("div",{className:"font-semibold text-lg text-gray-600",children:"No Results Found."})]})})};var Z=function(){Object(o.g)().section;var e=Object(d.b)(),t=e.Moralis,n=e.isInitialized,a=e.isAuthenticated,c=Object(s.useState)(""),r=Object(i.a)(c,2),l=(r[0],r[1]),b=Object(s.useState)([]),x=Object(i.a)(b,2),p=(x[0],x[1]),m=Object(s.useState)(!0),f=Object(i.a)(m,2),O=(f[0],f[1]),v=g(),y=Object(i.a)(v,2),N=(y[0],y[1]),w=function(){var e=Object(u.a)(j.a.mark((function e(){var n,s,c,r,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return!N&&a?(s=t.User.current(),n=s.get("accounts")[0],l(n)):n=N,c=t.Object.extend("GovernanceInstanceCreations"),(r=new t.Query(c)).equalTo("govOwner",n),e.next=6,r.find();case 6:i=e.sent,p(i),O(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){var e=!0;return e&&n&&(N&&l(N),w()),function(){e=!1}}),[n,N,a]),Object(h.jsx)("div",{children:Object(h.jsxs)("div",{className:"px-5 md:px-16 h-auto py-10 bg-bgGray ",children:[Object(h.jsx)("nav",{className:"flex pb-3","aria-label":"Breadcrumb",children:Object(h.jsxs)("ol",{className:"inline-flex items-center space-x-1 md:space-x-3",children:[Object(h.jsx)("li",{children:Object(h.jsx)("div",{className:"flex items-center",children:Object(h.jsx)("a",{href:"#",className:"text-sm font-medium text-gray-400  ",children:"Home"})})}),Object(h.jsx)("li",{"aria-current":"page",children:Object(h.jsxs)("div",{className:"flex items-center",children:[Object(h.jsx)("svg",{className:"w-6 h-6 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:Object(h.jsx)("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),Object(h.jsx)("span",{className:"ml-1 text-sm font-medium text-black",children:"Result"})]})})]})}),Object(h.jsx)("h2",{className:"pt-8 font-bold text-2xl pb-4",children:"Finished proposals"}),Object(h.jsx)(_,{})]})})};var X=function(e){var t=Object(d.b)(),n=t.Moralis,a=t.isInitialized,c=Object(s.useState)([]),r=Object(i.a)(c,2),b=r[0],x=r[1],p=Object(s.useState)(""),m=Object(i.a)(p,2),f=(m[0],m[1]),O=Object(s.useState)(!0),v=Object(i.a)(O,2),g=v[0],y=v[1],N=Object(o.e)().search,w=new URLSearchParams(N).get("q"),k=function(){var e=Object(u.a)(j.a.mark((function e(){var t,s,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.Object.extend("GovernanceInstanceCreations"),s=new n.Query(t),e.next=4,s.find();case 4:a=e.sent,x(a),y(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(u.a)(j.a.mark((function e(t){var s,a,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=n.Object.extend("GovernanceInstanceCreations"),(a=new n.Query(s)).startsWith("govName",t),e.next=5,a.find();case 5:c=e.sent,x(c),y(!1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){a&&(w?C(w):k())}),[a,w]),Object(h.jsx)("div",{children:Object(h.jsxs)("div",{className:"px-5 md:px-16 h-auto py-16 ".concat("home"==e.page?"bg-bgBlue":"bg-bgGray"),children:[Object(h.jsxs)("div",{className:"grid grid-cols-3",children:[Object(h.jsx)("h3",{className:" font-bold block  text-2xl mb-6 col-span-3 sm:col-span-1 ",children:"Join In"}),Object(h.jsx)("div",{className:"col-span-3 sm:col-span-2 mb-6  ",children:Object(h.jsx)("form",{children:Object(h.jsxs)("div",{className:"relative text-gray-400 text-right  ",children:[Object(h.jsx)("span",{className:"absolute y-0 l-0 ",children:Object(h.jsx)("button",{type:"submit",className:"p-1 pt-2 focus:outline-none focus:shadow-outline",children:Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:Object(h.jsx)("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})})}),Object(h.jsx)("input",{type:"text",name:"q",onChange:function(e){f(e.target.value)},className:"py-2 text-sm text-gray-500 rounded-full w-full max-w-md pl-10 focus:outline-none shadow-md cursor-pointer ",placeholder:"Search...",autoComplete:"off"})]})})})]}),!g&&b.length>0&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"md:px-10 grid gap-10 grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 ",children:b.map((function(e,t){return Object(h.jsx)(E,{contract:e},t)}))}),Object(h.jsx)("div",{className:"mt-4",children:Object(h.jsx)(l.b,{to:"/holder",className:"text-primaryBtn text-sm pl-10 pt-10 cursor-pointer ",children:"View more..."})})]}),!g&&0==b.length&&Object(h.jsx)("div",{className:"md:px-10 grid gap-10 grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 ",children:Object(h.jsx)("div",{className:"font-bold text-gray-500 text-lg",children:"No match found"})}),g&&Object(h.jsx)("div",{className:"md:px-10 grid gap-10 grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 ",children:Object(h.jsx)("div",{className:"font-bold text-gray-500 text-lg",children:"Loading contracts"})})]})})};var $=function(){return Object(h.jsx)("div",{children:Object(h.jsx)(X,{page:"home"})})};var ee=function(){return Object(h.jsx)("div",{className:"font-headFont relative ",children:Object(h.jsxs)(w,{children:[Object(h.jsx)(A,{bg:"bg-bgBlue"}),Object(h.jsx)(T,{}),Object(h.jsx)(Z,{}),Object(h.jsx)(W,{})]})})},te=n.p+"static/media/coinholder.7b676dc9.png";var ne=function(){return Object(h.jsx)("div",{children:Object(h.jsxs)("div",{className:"pt-14 bg-bgBlue h-auto px-5 md:px-16 pb-10 grid grid-cols-4",children:[Object(h.jsx)("div",{className:"col-span-4 sm:col-span-2 xl:col-span-2",children:Object(h.jsxs)("div",{className:"flex flex-col justify-center h-full ",children:[Object(h.jsx)("h1",{className:"font-bold text-3xl sm:text-5xl lg:text-6xl pb-2  sm:pt-10",children:"Vote on Proposals"}),Object(h.jsx)("p",{className:"font-normal text-sm sm:text-xl ",children:"Make your voice heard. View proposals and vote."})]})}),Object(h.jsx)("div",{className:"hidden sm:block sm:col-span-2 xl:col-span-2 h-[275px] ",children:Object(h.jsx)("img",{src:te,alt:"coin holder",className:"mr-0  h-full m-auto "})})]})})};var se=function(){return Object(h.jsx)("div",{className:"font-headFont relative  ",children:Object(h.jsxs)(w,{children:[Object(h.jsx)(A,{bg:"bg-bgBlue"}),Object(h.jsx)(ne,{}),Object(h.jsx)(X,{page:"holder"}),Object(h.jsx)(W,{})]})})};var ae=function(){var e=Object(o.g)().section,t=Object(d.b)(),n=t.Moralis,a=t.isInitialized,c=t.isAuthenticated,r=Object(s.useState)(""),b=Object(i.a)(r,2),x=(b[0],b[1]),p=Object(s.useState)([]),m=Object(i.a)(p,2),f=m[0],O=m[1],v=Object(s.useState)(!0),y=Object(i.a)(v,2),N=y[0],w=y[1],k=g(),C=Object(i.a)(k,2),B=(C[0],C[1]),A=function(){var e=Object(u.a)(j.a.mark((function e(){var t,s,a,r,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return!B&&c?(s=n.User.current(),t=s.get("accounts")[0],x(t)):t=B,a=n.Object.extend("GovernanceInstanceCreations"),(r=new n.Query(a)).equalTo("govOwner",t),e.next=6,r.find();case 6:i=e.sent,O(i),w(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){var e=!0;return e&&a&&(B&&x(B),A()),function(){e=!1}}),[a,B,c]),Object(h.jsx)("div",{children:Object(h.jsxs)("div",{className:"px-5 md:px-16 h-auto py-10 bg-bgGray ",children:[Object(h.jsx)("nav",{className:"flex pb-3","aria-label":"Breadcrumb",children:Object(h.jsxs)("ol",{className:"inline-flex items-center space-x-1 md:space-x-3",children:[Object(h.jsx)("li",{children:Object(h.jsx)("div",{className:"flex items-center",children:Object(h.jsx)("a",{href:"#",className:"text-sm font-medium text-gray-400  ",children:"Home"})})}),Object(h.jsx)("li",{"aria-current":"page",children:Object(h.jsxs)("div",{className:"flex items-center",children:[Object(h.jsx)("svg",{className:"w-6 h-6 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:Object(h.jsx)("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),Object(h.jsx)("span",{className:"ml-1 text-sm font-medium text-black",children:"Governance Creator"})]})})]})}),Object(h.jsxs)("div",{className:"flex w-fit  pt-4 border-b-2 px-2",children:[Object(h.jsx)(l.b,{to:"/creator/1",className:"w-fit px-2 text-center font-medium text-xs border-b-2 ".concat(1==e?"border-b-primaryBtn text-primaryBtn ":"","  hover:border-b-primaryBtn cursor-pointer"),children:"Governance contract"}),Object(h.jsx)(l.b,{to:"/creator/2",className:"w-fit px-2 text-center font-medium text-xs border-b-2 ".concat(2==e?"border-b-primaryBtn text-primaryBtn ":"","  hover:border-b-primaryBtn cursor-pointer"),children:"Proposals"}),Object(h.jsx)(l.b,{to:"/creator/3",className:"w-fit px-2 text-center font-medium text-xs border-b-2 ".concat(3==e?"border-b-primaryBtn text-primaryBtn ":"","  hover:border-b-primaryBtn cursor-pointer"),children:"About"})]}),1==e&&Object(h.jsx)(V,{contracts:f,loading:N}),2==e&&Object(h.jsx)(D,{contracts:f}),3==e&&Object(h.jsx)(H,{contracts:f})]})})},ce=n.p+"static/media/creatormain.e50006ed.png";var re=function(){return Object(h.jsx)("div",{children:Object(h.jsxs)("div",{className:"pt-14 bg-bgBlue h-auto px-5 md:px-16 pb-10 grid grid-cols-4",children:[Object(h.jsx)("div",{className:"col-span-4 sm:col-span-2 xl:col-span-2",children:Object(h.jsxs)("div",{className:"flex flex-col justify-center h-full ",children:[Object(h.jsx)("h1",{className:"font-bold text-3xl sm:text-5xl lg:text-6xl pb-2  sm:pt-10",children:"Governance Creator"}),Object(h.jsx)("p",{className:"font-normal text-sm sm:text-xl ",children:"Partner with us as a governance creator and discover more possibilities with your coin."})]})}),Object(h.jsx)("div",{className:"hidden sm:block sm:col-span-2 xl:col-span-2 h-[275px] ",children:Object(h.jsx)("img",{src:ce,alt:"coin holder",className:"mr-0  h-full m-auto "})})]})})};var ie=function(){return Object(h.jsx)("div",{className:"font-headFont relative ",children:Object(h.jsxs)(w,{children:[Object(h.jsx)(A,{bg:"bg-bgBlue"}),Object(h.jsx)(re,{}),Object(h.jsx)(ae,{}),Object(h.jsx)(W,{})]})})},oe=n.p+"static/media/holder.32eee70b.png",le=n.p+"static/media/creatorImage.41831fb1.png";var de=function(){return Object(h.jsxs)("div",{className:"bg-bgGray",children:[Object(h.jsxs)("div",{className:"h-auto px-5 md:px-16 py-6 md:py-16",children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("h3",{className:" font-bold text-2xl mt-2 leading-normal text-center",children:Object(h.jsx)(l.b,{to:"/",children:"Freshcoastblockchain.com"})}),Object(h.jsx)("p",{className:"mt-6 font-normal text-xl text-justify sm:text-center mb-6",children:"Fresh coast blockchain is disrupting blockchain governance. We provide real-time creation of audited, certified, tested, and upgradable governance contracts."})]}),Object(h.jsxs)("div",{className:"grid grid-cols-2 justify-center gap-6 ",children:[Object(h.jsxs)("div",{className:"h-auto min-h-[300px] pb-4 col-span-2 mb-4  sm:col-span-1 bg-bgBlue pt-6",children:[Object(h.jsx)("h4",{className:"text-center text-2xl font-bold leading-normal mb-6 ",children:"PHASE ONE"}),Object(h.jsx)("p",{className:"font-normal text-justify px-6 text-xl ",children:"Coin holder - Ability to connect wallet and vote on several proposals. Governance Creator - Ability to connect wallet, create proposals and vote on proposals."})]}),Object(h.jsxs)("div",{className:"h-auto min-h-[300px] pb-4 col-span-2 mb-4 sm:col-span-1 bg-bgBlue pt-6",children:[Object(h.jsx)("h4",{className:"text-center text-2xl font-bold leading-normal mb-6 ",children:"PHASE TWO"}),Object(h.jsx)("p",{className:"font-normal text-justify px-6 text-xl ",children:"Coin holder - Ability to connect wallet and vote on several proposals. Governance Creator - Ability to connect wallet, create proposals and vote on proposals."})]})]})]}),Object(h.jsxs)("div",{className:"h-auto bg-bgGray grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 px-5 md:px-16 py-6 md:py-16",children:[Object(h.jsx)("div",{children:Object(h.jsx)("h3",{className:" font-bold text-center md:text-left text-3xl mt-20 mb-6",children:"Create a contract, make a proposal or vote"})}),Object(h.jsxs)("div",{className:"h-[337px] bg-no-repeat border-2 bg-right-bottom  relative",style:{backgroundImage:"url(".concat(le,")")},children:[Object(h.jsx)("span",{className:"block absolute -inset-1 bg-bgBlue opacity-30","aria-hidden":"true"}),Object(h.jsxs)("div",{className:"w-full h-full pt-16 relative ",children:[Object(h.jsx)("h4",{className:"text-center text-2xl font-bold leading-normal mb-6 ",children:"Workbench"}),Object(h.jsx)("p",{className:"font-normal text-justify px-6 text-xl ",children:"Use the workbench to create audited, certified and tested governance contracts realtime."})]})]}),Object(h.jsxs)("div",{className:"h-[337px]  bg-no-repeat border-2 bg-right-bottom relative",style:{backgroundImage:"url(".concat(oe,")")},children:[Object(h.jsx)("span",{className:"block absolute -inset-1 bg-bgBlue opacity-30","aria-hidden":"true"}),Object(h.jsxs)("div",{className:"w-full h-full pt-16 relative",children:[Object(h.jsx)("h4",{className:"text-center text-2xl font-bold leading-normal  mb-6",children:"Voter"}),Object(h.jsx)("p",{className:"font-normal text-justify px-6 text-xl",children:"Connect your wallet to see proposals waiting for your vote."})]})]})]})]})};var ue=function(){return Object(h.jsx)("div",{className:"font-headFont relative ",children:Object(h.jsxs)(w,{children:[Object(h.jsx)(A,{bg:"bg-bgBlue"}),Object(h.jsx)(B,{}),Object(h.jsx)(de,{}),Object(h.jsx)($,{}),Object(h.jsx)(W,{})]})})};var be=function(e){var t=g(),n=Object(i.a)(t,2),a=(n[0],n[1]),c=Object(s.useState)(!1),r=Object(i.a)(c,2),o=r[0],l=r[1],b=Object(s.useState)(!1),x=Object(i.a)(b,2),p=x[0],f=x[1],O=Object(s.useState)(""),v=Object(i.a)(O,2),y=(v[0],v[1]),N=Object(s.useState)(""),w=Object(i.a)(N,2),k=w[0],C=w[1],B=Object(s.useState)(""),A=Object(i.a)(B,2),S=A[0],T=A[1],W=Object(s.useState)(!1),P=Object(i.a)(W,2),E=P[0],I=P[1],F=Object(s.useState)(!0),G=Object(i.a)(F,2),L=G[0],M=G[1],V=Object(d.b)(),z=V.isAuthenticated,R=(V.isWeb3Enabled,V.enableWeb3,V.Moralis),Q=V.isInitialized,U=Object(d.c)();function Y(){return(Y=Object(u.a)(j.a.mark((function t(){var n,s,a,c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new R.Web3(window.ethereum),t.next=3,n.eth.net.getId();case 3:if(43113!==t.sent){t.next=20;break}return s=R.Object.extend("Delegations"),(a=new R.Query(s)).equalTo("delegator",k),t.next=10,a.find();case 10:if(0!=t.sent.length){t.next=17;break}return c={contractAddress:"0x364ba491b1201a9c0bd326144cd6472e5ff299f1",functionName:"delegate",abi:[{inputs:[{internalType:"address",name:"delegatee",type:"address"}],name:"delegate",outputs:[],stateMutability:"nonpayable",type:"function"}],params:{delegatee:k}},t.next=15,U.fetch({params:c,onSuccess:function(){var e=new(R.Object.extend("Delegations"));e.set("isDelegated",!0),e.set("delegator",k),e.save().then((function(e){q()}))},onError:function(t){l(!1),f(!1),e.hide(!1),m.a.fire({title:"Error!",text:"An error occured during transaction",icon:"error",confirmButtonText:"Ok",confirmButtonColor:"#2C6CF4"})}});case 15:t.next=18;break;case 17:q();case 18:t.next=21;break;case 20:m.a.fire({title:"Warning!",text:"It looks like you are not on Avalanche fuji testnet, please select the right network to continue",icon:"info",confirmButtonText:"Ok",confirmButtonColor:"#2C6CF4"});case 21:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function q(){return D.apply(this,arguments)}function D(){return(D=Object(u.a)(j.a.mark((function t(){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={contractAddress:e.address,functionName:"propose",abi:[{inputs:[{internalType:"address[]",name:"targets",type:"address[]"},{internalType:"uint256[]",name:"values",type:"uint256[]"},{internalType:"string[]",name:"signatures",type:"string[]"},{internalType:"bytes[]",name:"calldatas",type:"bytes[]"},{internalType:"string",name:"description",type:"string"}],name:"propose",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"}],params:{targets:[],values:[],signatures:[],calldatas:[],description:S}},t.next=3,R.enableWeb3();case 3:return t.next=5,U.fetch({params:n,onSuccess:function(t){var n=new(R.Object.extend("Proposals"));n.set("proposalId",t),n.set("description",S),n.set("proposer",k),n.set("govAddress",e.address),n.save().then((function(e){l(!1),f(!1),I(!0),window.location.reload()}),(function(e){alert("Failed to create new object, with error code: "+e.message)}))},onError:function(t){m.a.fire({title:"Error!",text:"An error occured during transaction",icon:"error",confirmButtonText:"Ok",confirmButtonColor:"#2C6CF4"}),l(!1),f(!1),e.hide(!1)}});case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(s.useEffect)((function(){if(Q)if(a){C(a);var e=R.User.current();y(e)}else if(!a&&z){var t=R.User.current();y(t);var n=t.get("accounts")[0];C(n)}}),[Q,a]),Object(h.jsx)("div",{children:Object(h.jsxs)("div",{className:"fixed z-50 bg-black inset-0 bg-opacity-25 flex items-center justify-center px-3",children:[!o&&Object(h.jsxs)("div",{className:"bg-white w-full max-w-[400px] p-4 rounded-md text-justify ",children:[p&&Object(h.jsxs)("div",{children:[Object(h.jsxs)("p",{children:[Object(h.jsx)("strong",{children:"NOTE:"})," Your can not edit this proposal once it has been recorded."]}),Object(h.jsxs)("div",{className:"flex justify-center space-x-3",children:[Object(h.jsx)("span",{className:"pt-2  text-xs text-primaryBtn cursor-pointer hover:underline",onClick:function(){M(!0),l(!1),f(!1)},children:"Edit form"}),Object(h.jsx)("button",{onClick:function(){l(!0),function(){Y.apply(this,arguments)}()},className:" w-fit h-fit rounded-md px-2 py-2 cursor-pointer  bg-primaryBtn text-white text-xs",children:"Continue"})]})]}),E&&Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{className:"m-auto h-[60px] w-[60px] rounded-full text-white flex justify-center items-center bg-yesPoint",children:Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),Object(h.jsx)("h3",{className:"font-bold text-lg text-center",children:"Proposal Created Successfully."}),Object(h.jsx)("div",{className:"flex justify-center ",children:Object(h.jsx)("span",{className:"pt-2  text-xs text-primaryBtn cursor-pointer hover:underline",onClick:function(){return e.hide(!1)},children:"Close"})})]}),L&&Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{className:"m-auto h-[200px] w-full  text-white  ",children:Object(h.jsx)("textarea",{onChange:function(e){T(e.target.value)},value:S,className:"w-full h-full bg-gray-100 text-black p-2 outline-0 text-xs"})}),Object(h.jsxs)("div",{className:"flex justify-center space-x-2  ",children:[Object(h.jsx)("span",{className:"py-2 px-2 mt-2   text-xs text-primaryBtn bg-bgGray rounded-md cursor-pointer hover:underline ",onClick:function(){T(""),M(!1),e.hide(!1)},children:"Cancel"}),Object(h.jsx)("span",{className:"py-2 px-2 mt-2   text-xs bg-primaryBtn text-white rounded-md cursor-pointer ",onClick:function(){S?(f(!0),M(!1)):e.hide(!1)},children:"Propose"})]})]})]}),o&&Object(h.jsx)("div",{children:Object(h.jsxs)("div",{className:"m-auto bg-primaryBtn h-[40px] w-[80px] rounded-full flex items-center justify-center space-x-2",children:[Object(h.jsx)("div",{className:"bg-white rounded-full p-2 animate-bounce"}),Object(h.jsx)("div",{className:"bg-white rounded-full p-2 animate-bounce"}),Object(h.jsx)("div",{className:"bg-white rounded-full p-2 animate-bounce"})]})})]})})};var je=function(){var e=Object(s.useState)(!1),t=Object(i.a)(e,2),n=t[0],a=t[1],c=Object(s.useState)(""),r=Object(i.a)(c,2),b=r[0],x=r[1],p=Object(s.useState)(0),m=Object(i.a)(p,2),f=m[0],O=m[1],v=Object(s.useState)(0),N=Object(i.a)(v,2),w=N[0],k=N[1],C=Object(s.useState)(!1),B=Object(i.a)(C,2),A=(B[0],B[1],Object(o.g)().address),S=Object(s.useState)(""),T=Object(i.a)(S,2),W=T[0],E=T[1],I=Object(d.b)(),F=(I.isAuthenticated,I.isWeb3Enabled,I.enableWeb3,I.Moralis),G=I.isInitialized,L=(I.isWeb3EnableLoading,g()),M=Object(i.a)(L,2),V=M[0],z=(M[1],y()),R=Object(i.a)(z,2),Q=R[0],U=(R[1],function(){var e=Object(u.a)(j.a.mark((function e(){var t,n,s,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=F.Object.extend("GovernanceInstanceCreations"),(n=new F.Query(t)).equalTo("govAddress",A),e.next=5,n.find();case 5:s=e.sent,a=s[0].get("govName"),x(a);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),Y=function(){var e=Object(u.a)(j.a.mark((function e(){var t,n,s,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=F.Object.extend("Votes"),(n=new F.Query(t)).equalTo("govAddress",A),e.next=5,n.find();case 5:s=e.sent,a=s.length,O(a);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(u.a)(j.a.mark((function e(){var t,n,s,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=F.Object.extend("Proposals"),(n=new F.Query(t)).equalTo("govAddress",A),e.next=5,n.find();case 5:s=e.sent,a=s.length,k(a);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(u.a)(j.a.mark((function e(){var t,n,s,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=F.Object.extend("GovernorImages"),n=new t,(s=new F.Query(n)).equalTo("govInfo",A),e.next=6,s.find();case 6:0==(a=e.sent).length?E(!1):E(a[0].get("image"));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){G&&(U(),Y(),q(),D())}),[G]),Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{className:"pt-6 bg-bgGray h-auto px-5 md:px-16 pb-10 relative",children:Object(h.jsx)("nav",{className:"flex","aria-label":"Breadcrumb",children:Object(h.jsxs)("ol",{className:"inline-flex items-center space-x-1 md:space-x-3",children:[Object(h.jsx)("li",{children:Object(h.jsx)("div",{className:"flex items-center",children:Object(h.jsx)(l.b,{to:"/",className:"text-sm font-medium text-gray-400  ",children:"Home"})})}),Object(h.jsx)("li",{"aria-current":"page",children:Object(h.jsxs)("div",{className:"flex items-center",children:[Object(h.jsx)("svg",{className:"w-6 h-6 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:Object(h.jsx)("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),Object(h.jsx)(l.b,{to:"/holder",className:"ml-1 text-sm font-medium text-gray-400 md:ml-2 ",children:"Voter"})]})}),Object(h.jsx)("li",{"aria-current":"page",children:Object(h.jsxs)("div",{className:"flex items-center",children:[Object(h.jsx)("svg",{className:"w-6 h-6 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:Object(h.jsx)("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),Object(h.jsx)("span",{className:"ml-1 text-sm font-medium text-black",children:b})]})})]})})}),Object(h.jsxs)("div",{className:"pt-6 bg-bgGray h-auto px-5 md:px-16 pb-10 ",children:[Object(h.jsxs)("div",{className:"block sm:flex",children:[Object(h.jsx)("div",{className:"rounded-full m-auto h-20 w-20 mb-4 sm:h-14 sm:w-14 sm:m-0 ",children:Object(h.jsx)("img",{className:"h-full w-full rounded-full ",alt:"coin",src:W?"https://ipfs.infura.io/ipfs/".concat(W):P})}),Object(h.jsx)("h2",{className:"font-medium leading-loose text-3xl pl-4 text-center sm:text-left",children:b}),Object(h.jsxs)("div",{className:"flex w-fit m-auto sm:ml-0 sm:mt-0",children:[V&&Object(h.jsx)("button",{onClick:function(){return a(!0)},className:"w-fit h-fit rounded-full px-4 py-2 ml-3 cursor-pointer mt-3 bg-primaryBtn text-white font-medium",children:"create proposal"}),!V&&Object(h.jsx)("button",{className:"w-fit h-fit rounded-full px-4 py-2 ml-3 cursor-pointer mt-3 bg-gray-400 hover:bg-gray-500 text-white font-medium",children:"create proposal"}),!V&&Object(h.jsx)("button",{onClick:function(){Q()},className:"w-fit h-fit rounded-md px-4 py-2 ml-3 cursor-pointer mt-3 bg-primaryBtn text-white font-medium",children:"Join"})]})]}),Object(h.jsxs)("div",{className:"flex mt-6 gap-2 text-sm  justify-center sm:justify-start ",children:[Object(h.jsxs)("div",{className:"border-2 p-3 ",children:[Object(h.jsx)("div",{className:"text-center font-medium ",children:w}),Object(h.jsx)("div",{className:"text-center text-gray-500",children:w>1?"Proposals":"Proposal"})]}),Object(h.jsxs)("div",{className:"border-2 p-3 ",children:[Object(h.jsx)("div",{className:"text-center font-medium ",children:f}),Object(h.jsx)("div",{className:"text-center text-gray-500",children:f>1?"Voters":"Voter"})]})]})]}),n&&Object(h.jsx)(be,{hide:a,address:A})]})};var xe=function(){var e=Object(s.useState)(!0),t=Object(i.a)(e,2),n=t[0],a=t[1],c=Object(s.useState)(""),r=Object(i.a)(c,2),l=r[0],b=r[1],x=Object(d.b)(),p=(x.isAuthenticated,x.isWeb3Enabled,x.enableWeb3,x.Moralis),m=x.isInitialized,f=(x.isWeb3EnableLoading,Object(o.g)()),O=f.address,v=(f.section,function(){var e=Object(u.a)(j.a.mark((function e(){var t,n,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=p.Object.extend("GovernanceInstanceCreations"),(n=new p.Query(t)).equalTo("govAddress",O),e.next=5,n.find();case 5:(s=e.sent)[0].get("about")&&s[0].get("about").length>0&&b(s[0].get("about")[0]),a(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());return Object(s.useEffect)((function(){m&&v()}),[m]),Object(h.jsxs)("div",{children:[n&&Object(h.jsx)("div",{className:"font-bold text-gray-500 text-lg",children:"Loading About"}),!n&&!l&&Object(h.jsx)("div",{className:"font-bold text-black text-lg",children:"No detail found"}),!n&&l&&Object(h.jsx)("div",{className:"text-lg text-justify leading-relaxed",children:l})]})};var pe=function(){var e=g(),t=Object(i.a)(e,2),n=(t[0],t[1]),a=Object(s.useState)(""),c=Object(i.a)(a,2),r=(c[0],c[1]),b=Object(s.useState)("active"),x=Object(i.a)(b,2),p=x[0],f=x[1],O=Object(s.useState)(""),v=Object(i.a)(O,2),y=v[0],N=v[1],w=Object(s.useState)(!0),k=Object(i.a)(w,2),C=k[0],B=k[1],A=Object(s.useState)([]),S=Object(i.a)(A,2),T=S[0],W=S[1],P=Object(d.b)(),E=P.isAuthenticated,I=(P.isWeb3Enabled,P.enableWeb3,P.Moralis),F=P.isInitialized,G=(P.isWeb3EnableLoading,Object(o.g)()),L=G.address,M=G.section,V=(Object(d.c)(),function(e){var t=[];return e.forEach((function(e){("all"==p||"pending"==p&&0==e.data.state_||"active"==p&&1==e.data.state_||"finished"==p&&e.data.state_>1)&&(t=[].concat(Object(z.a)(t),[e]))})),t}),R=function(){var e=Object(u.a)(j.a.mark((function e(t,n){var s,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={contractAddress:L,functionName:"getProposalData",abi:[{inputs:[{internalType:"uint256",name:"proposalId",type:"uint256"}],name:"getProposalData",outputs:[{internalType:"uint256",name:"proposalId_",type:"uint256"},{internalType:"address",name:"proposer_",type:"address"},{internalType:"uint256",name:"startTime_",type:"uint256"},{internalType:"uint256",name:"endTime_",type:"uint256"},{internalType:"uint256",name:"startBlock_",type:"uint256"},{internalType:"uint256",name:"forVotes_",type:"uint256"},{internalType:"uint256",name:"againstVotes_",type:"uint256"},{internalType:"bool",name:"canceled_",type:"bool"},{internalType:"bool",name:"executed_",type:"bool"},{internalType:"enum VoteGovernorAlpha.ProposalState",name:"state_",type:"uint8"}],stateMutability:"view",type:"function"}],params:{proposalId:t}},e.next=4,I.enableWeb3();case 4:return e.next=6,I.executeFunction(s);case 6:return a=e.sent,e.abrupt("return",{data:a,description:n});case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Q=function(){var e=Object(u.a)(j.a.mark((function e(){var t,n,s,a,c,r,i,o,l,d,u,b,x,p;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new I.Web3(window.ethereum),e.next=3,t.eth.net.getId();case 3:if(43113!==e.sent){e.next=38;break}return B(!0),n=I.Object.extend("Proposals"),(s=new I.Query(n)).equalTo("govAddress",L),e.next=11,s.find();case 11:if(a=e.sent,console.log(a),!(a.length>0)){e.next=35;break}d=[],u=0;case 16:if(!(u<a.length)){e.next=30;break}return b=a[u],c=b.get("description"),r=b.get("proposalId"),i=r.events[0].raw.data.substring(2),o=i.match(/.{1,64}/g)[1],l=o.charAt(o.length-1),e.next=25,R(l,c);case 25:x=e.sent,d=[].concat(Object(z.a)(d),[x]);case 27:u++,e.next=16;break;case 30:p=V(d),W(p),B(!1),e.next=36;break;case 35:B(!1);case 36:e.next=40;break;case 38:B(!1),m.a.fire({title:"Warning!",text:"It looks like you are not on Avalanche fuji testnet, please select the right network to access the data",icon:"info",confirmButtonText:"Ok",confirmButtonColor:"#2C6CF4"});case 40:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(u.a)(j.a.mark((function e(){var t,n,s,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=I.Object.extend("GovernanceInstanceCreations"),(n=new I.Query(t)).equalTo("govAddress",L),e.next=5,n.find();case 5:s=e.sent,a=s[0].get("govName"),N(a);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){var e=!0;if(e&&F)if("undefined"!==typeof window.ethereum){if(Q(),U(),n)r(n);else if(E){var t=I.User.current().get("accounts")[0];r(t)}}else m.a.fire({title:"Error!",text:"Your browser is not web3 enabled you can download metamask to enable this.",icon:"error",confirmButtonText:"Ok",confirmButtonColor:"#2C6CF4"}),B(!1);return function(){e=!1}}),[F,n,p]),Object(h.jsx)("div",{children:Object(h.jsxs)("div",{className:"px-5 md:px-16 h-auto min-h-screen pt-2 pb-6 bg-bgGray",children:[Object(h.jsxs)("div",{className:"grid grid-cols-2 mt-6 mb-4",children:[Object(h.jsx)("div",{className:"col-span-2 sm:col-span-1",children:Object(h.jsxs)("div",{className:"flex w-fit px-3 border-b-2",children:[Object(h.jsx)(l.b,{to:"/proposals/".concat(L,"/1"),className:"w-[100px] text-center font-medium text-xs   ".concat(1==M?"border-b-2 border-b-primaryBtn text-primaryBtn cursor-pointer":"","  cursor-pointer  hover:border-b-2  hover:border-b-primaryBtn "),children:"Proposals"}),Object(h.jsx)(l.b,{to:"/proposals/".concat(L,"/2"),className:"w-[100px] text-center font-medium text-xs  ".concat(2==M?"border-b-2 border-b-primaryBtn text-primaryBtn cursor-pointer":"","  cursor-pointer hover:border-b-2 hover:border-b-primaryBtn "),children:"About"})]})}),Object(h.jsx)("div",{className:"col-span-2 sm:col-span-1 mt-4 sm:mt-0",children:Object(h.jsxs)("div",{className:"  relative",children:[Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 absolute inset-y-7 right-2  ",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),Object(h.jsx)("form",{className:"w-full flex justify-end",children:Object(h.jsxs)("select",{onChange:function(e){f(e.target.value)},value:p,className:"form-select appearance-none bg-coinCardBorder mt-4   rounded-md transition  ease-in-out  w-full sm:max-w-[250px] h-[40px] cursor-pointer py-2 px-3  leading-tight text-xs focus:outline-primaryBtn  ",children:[Object(h.jsx)("option",{value:"all",children:"All"}),Object(h.jsx)("option",{value:"active",children:"Active"}),Object(h.jsx)("option",{value:"pending",children:"Pending"}),Object(h.jsx)("option",{value:"finished",children:"Finished"})]})})]})})]}),1==M&&Object(h.jsxs)("div",{children:[C&&Object(h.jsx)("div",{className:"font-semibold text-lg text-gray-600",children:"Loading Proposals"}),T.length>0&&!C&&Object(h.jsx)(q,{proposals:T,govName:y}),0===T.length&&!C&&Object(h.jsxs)("div",{className:"font-semibold text-lg text-gray-600",children:["No Proposals Found on ",p," proposals list"]})]}),2==M&&Object(h.jsx)(xe,{})]})})};var me=function(){return Object(h.jsx)("div",{className:"font-headFont relative ",children:Object(h.jsxs)(w,{children:[Object(h.jsx)(A,{bg:"bg-bgGray"}),Object(h.jsx)(je,{}),Object(h.jsx)(pe,{}),Object(h.jsx)(W,{})]})})};var he=function(){var e=Object(d.b)(),t=e.isWeb3Enabled,n=e.enableWeb3,a=e.isAuthenticated,c=e.isWeb3EnableLoading;return e.Moralis,e.account,Object(s.useEffect)((function(){!a||t||c||n()}),[a,t]),Object(h.jsx)(l.a,{children:Object(h.jsx)("div",{children:Object(h.jsxs)(o.c,{children:[Object(h.jsx)(o.a,{path:"/",exact:!0,element:Object(h.jsx)(ue,{})}),Object(h.jsx)(o.a,{path:"/results",exact:!0,element:Object(h.jsx)(ee,{})}),Object(h.jsx)(o.a,{path:"/holder",exact:!0,element:Object(h.jsx)(se,{})}),Object(h.jsx)(o.a,{path:"/creator/:section",exact:!0,element:Object(h.jsx)(ie,{})}),Object(h.jsx)(o.a,{path:"/proposals/:address/:section",exact:!0,element:Object(h.jsx)(me,{})})]})})})},fe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,1665)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),s(e),a(e),c(e),r(e)}))};r.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(d.a,{appId:"qztBAGNLIDY1B7yroTGqfpAiJRE1p6MzX5TFYgT6",serverUrl:"https://q3muowmavrpb.usemoralis.com:2053/server",children:Object(h.jsx)(he,{})})}),document.getElementById("root")),fe()},371:function(e,t){},372:function(e,t){},607:function(e,t){},611:function(e,t){},676:function(e,t,n){},677:function(e,t,n){},951:function(e,t){},953:function(e,t){},957:function(e,t){},958:function(e,t){},982:function(e,t){},984:function(e,t){},998:function(e,t){}},[[1658,1,2]]]);
//# sourceMappingURL=main.87e7e824.chunk.js.map